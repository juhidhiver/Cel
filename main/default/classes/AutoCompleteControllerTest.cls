@isTest
public with sharing class AutoCompleteControllerTest {
    
     public class WebServiceDUNSMockImpl implements HttpCalloutMock {
         public String body          {get; set;}
     	 public Integer statusCode   {get; set;} 
        public HTTPResponse respond(HTTPRequest req) {
        
        HttpResponse res = new HttpResponse();
        res.setHeader('Content-Type', 'application/json');
        res.setBody(body);
        res.setStatusCode(200);
        return res;
    	}
    }
    
    @testSetup
    public static void setup() {
        Account acc1 = new Account();
		acc1.Name = 'Test account 2';
		/*acc1.BillingStreet = '11 Tran Duy Hung';
		acc1.BillingCity = 'Westminster';
		acc1.BillingState = 'California';
		acc1.BillingPostalCode = '90000';
		acc1.BillingCountry = 'United States';
        //acc1.Billing_County__c;
		acc1.IsMailingSameWithBillingAddress__c = true;
		acc1.Date_Started__c = Date.today().addYears(-2);*/
        acc1.Duns_Number__c = 'Testing';
		insert acc1;
    }
    
    //No setup required for custom metadata as these are available irrespective of seeAllData
	@isTest
    public static void checkgetRecords(){

        // Set mock callout class
       /* MockHttpResponseGenerator mock = new MockHttpResponseGenerator();
        mock.body = '{ "matchedCandidates": [ { "displaySequence": 1, "organization": { "duns": "804735132", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Active", "dnbCode": 9074 }, "isMailUndeliverable": false }, "primaryName": "GORMAN MANUFACTURING COMPANY, INC.", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": false, "corporateLinkage": { "familytreeRolesPlayed": [ { "description": "Parent / Headquarters", "dnbCode": 9141 } ] } }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.857166 }, "primaryAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 2, "organization": { "duns": "804800217", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN PRINTING CO., INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "4155550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94104", "postalCodeExtension": null, "streetAddress": { "line1": "PO BOX 111", "line2": null } }, "registrationNumbers": [], "mostSeniorPrincipals": [], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.594357 }, "primaryAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "PO BOX 111", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94104", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 3, "organization": { "duns": "059633730", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN CATALOG PRINTING INC", "tradeStyleNames": [], "telephone": [], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.229094 }, "primaryAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 4, "organization": { "duns": "058063731", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN POSTER PRINTING INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.158422 }, "primaryAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } } ] }';
        mock.statusCode = 200;
        Test.setMock(HttpCalloutMock.class, mock);

        HttpResponse res = new HttpResponse();
        List<AutoCompleteController.OrganizationWrapper> liOrgWrap1 = AutoCompleteController.getRecords('Willis','US');*/
        Test.startTest();
        WebServiceDUNSMockImpl mock = new WebServiceDUNSMockImpl();
        mock.body = '{ "matchedCandidates": [ { "displaySequence": 1, "organization": { "duns": "804735132", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Active", "dnbCode": 9074 }, "isMailUndeliverable": false }, "primaryName": "GORMAN MANUFACTURING COMPANY, INC.", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": false, "corporateLinkage": { "familytreeRolesPlayed": [ { "description": "Parent / Headquarters", "dnbCode": 9141 } ] } }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.857166 }, "primaryAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 2, "organization": { "duns": "804800217", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN PRINTING CO., INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "4155550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94104", "postalCodeExtension": null, "streetAddress": { "line1": "PO BOX 111", "line2": null } }, "registrationNumbers": [], "mostSeniorPrincipals": [], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.594357 }, "primaryAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "PO BOX 111", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94104", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 3, "organization": { "duns": "059633730", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN CATALOG PRINTING INC", "tradeStyleNames": [], "telephone": [], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.229094 }, "primaryAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 4, "organization": { "duns": "058063731", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN POSTER PRINTING INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.158422 }, "primaryAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } } ] }';
        mock.statusCode = 200;
        Test.setMock(HttpCalloutMock.class, mock);
		List<AutoCompleteController.OrganizationWrapper> liOrgWrap1 = AutoCompleteController.getRecords('Willis','US');
        List<AutoCompleteController.OrganizationWrapper> liOrgWrapNull = AutoCompleteController.getRecords('Wi','US');
        Test.stopTest();
    }

    @isTest
    public static void testGetDbBForQuoteProcess() {
        Test.startTest();
        WebServiceDUNSMockImpl mock = new WebServiceDUNSMockImpl();
        mock.body = '{ "matchedCandidates": [ { "displaySequence": 1, "organization": { "duns": "804735132", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Active", "dnbCode": 9074 }, "isMailUndeliverable": false }, "primaryName": "GORMAN MANUFACTURING COMPANY, INC.", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": false, "corporateLinkage": { "familytreeRolesPlayed": [ { "description": "Parent / Headquarters", "dnbCode": 9141 } ] } }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.857166 }, "primaryAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 2, "organization": { "duns": "804800217", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN PRINTING CO., INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "4155550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94104", "postalCodeExtension": null, "streetAddress": { "line1": "PO BOX 111", "line2": null } }, "registrationNumbers": [], "mostSeniorPrincipals": [], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.594357 }, "primaryAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "PO BOX 111", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94104", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 3, "organization": { "duns": "059633730", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN CATALOG PRINTING INC", "tradeStyleNames": [], "telephone": [], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.229094 }, "primaryAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 4, "organization": { "duns": "058063731", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN POSTER PRINTING INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.158422 }, "primaryAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } } ] }';
        mock.statusCode = 200;
        Test.setMock(HttpCalloutMock.class, mock);
		List<AutoCompleteController.OrganizationWrapper> liOrgWrap1 = AutoCompleteController.getDbBForQuoteProcess('Willis','US');
        List<AutoCompleteController.OrganizationWrapper> liOrgWrapNull = AutoCompleteController.getDbBForQuoteProcess('Wi','US');
        Test.stopTest();
    }
    
    @isTest
    public static void testInsertDnBAccount() {
        
        Account acc1 = [SELECT id,Name FROM Account LIMIT 1];
        AutoCompleteController.Address addr = new AutoCompleteController.Address();
        addr.name = 'Testing';
        addr.streetAddressLine1 = 'Test Street';
        addr.countryISOAlpha2Code = 'US';
        addr.addressLocality = 'Test Local';
        addr.addressRegion = 'California';
        addr.postalCode = '12345';
        addr.country = 'USA';
        
        AutoCompleteController.OrganizationWrapper wrap = new AutoCompleteController.OrganizationWrapper();
        wrap.address = addr;
        wrap.duns = 'Testing';
        wrap.primaryName = 'Test Name';
        wrap.primaryAddressLin1 = 'Test Street Line 1';
        
        String jsonString = JSON.serialize(wrap);
        Test.startTest();
        WebServiceDUNSMockImpl mock = new WebServiceDUNSMockImpl();
        mock.body = '{ "matchedCandidates": [ { "displaySequence": 1, "organization": { "duns": "804735132", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Active", "dnbCode": 9074 }, "isMailUndeliverable": false }, "primaryName": "GORMAN MANUFACTURING COMPANY, INC.", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": false, "corporateLinkage": { "familytreeRolesPlayed": [ { "description": "Parent / Headquarters", "dnbCode": 9141 } ] } }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.857166 }, "primaryAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 2, "organization": { "duns": "804800217", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN PRINTING CO., INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "4155550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94104", "postalCodeExtension": null, "streetAddress": { "line1": "PO BOX 111", "line2": null } }, "registrationNumbers": [], "mostSeniorPrincipals": [], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.594357 }, "primaryAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "PO BOX 111", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94104", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 3, "organization": { "duns": "059633730", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN CATALOG PRINTING INC", "tradeStyleNames": [], "telephone": [], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.229094 }, "primaryAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 4, "organization": { "duns": "058063731", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN POSTER PRINTING INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.158422 }, "primaryAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } } ] }';
        mock.statusCode = 200;
        Test.setMock(HttpCalloutMock.class, mock);
        
        Account acc = AutoCompleteController.insertDnBAccount(jsonString);
        Test.stopTest();
        System.assertEquals(acc1.Id, acc.Id);
        
       /* AutoCompleteController.OrganizationWrapper wrap1 = new AutoCompleteController.OrganizationWrapper();
        wrap1.address = addr;
        wrap1.duns = 'DunsTest';
        wrap1.primaryName = 'Test Name1';
        wrap1.primaryAddressLin1 = 'Test Street Line 2';
        
        String jsonStringDuns = JSON.serialize(wrap1);
        
        
        
        Account acc2 = AutoCompleteController.insertDnBAccount(jsonStringDuns);*/
        
        
    }
    
    @isTest
    public static void testInsertDnBAccount1() {
        AutoCompleteController.Address addr = new AutoCompleteController.Address();
        addr.name = 'Testing';
        addr.streetAddressLine1 = 'Test Street';
        addr.countryISOAlpha2Code = 'US';
        addr.addressLocality = 'Test Local';
        addr.addressRegion = 'TX';
        addr.postalCode = '12345';
        addr.country = 'UNITED STATES';
        
        AutoCompleteController.OrganizationWrapper wrap1 = new AutoCompleteController.OrganizationWrapper();
        wrap1.address = addr;
        wrap1.duns = 'DunsTest';
        wrap1.primaryName = 'Test Name1';
        wrap1.primaryAddressLin1 = 'Test Street Line 2';
        
        String jsonStringDuns = JSON.serialize(wrap1);
        
        
        Test.startTest();
        WebServiceDUNSMockImpl mock = new WebServiceDUNSMockImpl();
        mock.body = '{ "EmployeeData": [{"EmployeeNumbers": 20,"ReliabilityofEmployeeNumbers": "actual","Numberofemployeesscope": "Individual"}],"CurrencyIsoCode":"US", "Dateestablished":"2020-08-08", "NetIncome":200, "ShareholdersEquity":"20", "RetainedEarnings":500, "LongTermDebt":200, "TypeofPartnership":"Joint", "Website":"www.fakeTest.com", "TotalAssets":2000,"TotalLiabilities" :1000, "TotalRevenue":1000, "SICCode":[{"code":"Test","typCodeDescription":"It is a test SICCode"}], "NetWorth":2340, "NAICCode":[{"code":"Test","typCodeDescription":"It is a test Code"}], "DunsNumber":"DUNS12", "DnBRatingClassification":"TST", "CurrentLiabilities":100, "CurrentAssets":2000,"CompositeCreditAppraisal": "1","matchedCandidates": [ { "displaySequence": 1, "organization": { "duns": "804735132", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Active", "dnbCode": 9074 }, "isMailUndeliverable": false }, "primaryName": "GORMAN MANUFACTURING COMPANY, INC.", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": false, "corporateLinkage": { "familytreeRolesPlayed": [ { "description": "Parent / Headquarters", "dnbCode": 9141 } ] } }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.857166 }, "primaryAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 2, "organization": { "duns": "804800217", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN PRINTING CO., INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "4155550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94104", "postalCodeExtension": null, "streetAddress": { "line1": "PO BOX 111", "line2": null } }, "registrationNumbers": [], "mostSeniorPrincipals": [], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.594357 }, "primaryAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "PO BOX 111", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94104", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 3, "organization": { "duns": "059633730", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN CATALOG PRINTING INC", "tradeStyleNames": [], "telephone": [], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.229094 }, "primaryAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 4, "organization": { "duns": "058063731", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN POSTER PRINTING INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.158422 }, "primaryAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } } ] }';
        mock.statusCode = 200;
        Test.setMock(HttpCalloutMock.class, mock);
        Account acc2 = AutoCompleteController.insertDnBAccount(jsonStringDuns);
        Test.stopTest();
        System.assertEquals(true, acc2!=null);
        
    }
    
    @isTest
    public static void testInsertDnBAccountNegative() {
        AutoCompleteController.Address addr = new AutoCompleteController.Address();
        addr.name = 'Testing';
        addr.streetAddressLine1 = 'Test Street';
        addr.countryISOAlpha2Code = 'US';
        addr.addressLocality = 'Test Local';
        addr.addressRegion = 'TX';
        addr.postalCode = '12345';
        addr.country = 'UNITED STATES';
        
        AutoCompleteController.OrganizationWrapper wrap1 = new AutoCompleteController.OrganizationWrapper();
        wrap1.address = addr;
        wrap1.duns = 'DunsTest';
        wrap1.primaryName = 'Test Name1';
        wrap1.primaryAddressLin1 = 'Test Street Line 2';
        
        String jsonStringDuns = JSON.serialize(wrap1);
        
        
        Test.startTest();
        WebServiceDUNSMockImpl mock = new WebServiceDUNSMockImpl();
        mock.body = '{ "OwnershipControlTypeText": [{"description":"Public"}],"CurrencyIsoCode":"US", "Dateestablished":"2020-08-08", "NetIncome":200, "ShareholdersEquity":"20", "RetainedEarnings":500, "LongTermDebt":200, "TypeofPartnership":"Joint", "Website":"www.fakeTest.com", "TotalAssets":2000,"TotalLiabilities" :1000, "TotalRevenue":1000, "SICCode":[{"code":"Test","typCodeDescription":"It is a test SICCode"}], "NetWorth":2340, "NAICCode":[{"code":"Test","typCodeDescription":"It is a test Code"}], "DunsNumber":"DUNS12", "DnBRatingClassification":"TST", "CurrentLiabilities":100, "CurrentAssets":2000,"CompositeCreditAppraisal": "1","matchedCandidates": [ { "displaySequence": 1, "organization": { "duns": "804735132", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Active", "dnbCode": 9074 }, "isMailUndeliverable": false }, "primaryName": "GORMAN MANUFACTURING COMPANY, INC.", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": false, "corporateLinkage": { "familytreeRolesPlayed": [ { "description": "Parent / Headquarters", "dnbCode": 9141 } ] } }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.857166 }, "primaryAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 2, "organization": { "duns": "804800217", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN PRINTING CO., INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "4155550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94104", "postalCodeExtension": null, "streetAddress": { "line1": "PO BOX 111", "line2": null } }, "registrationNumbers": [], "mostSeniorPrincipals": [], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.594357 }, "primaryAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "PO BOX 111", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94104", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 3, "organization": { "duns": "059633730", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN CATALOG PRINTING INC", "tradeStyleNames": [], "telephone": [], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.229094 }, "primaryAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 4, "organization": { "duns": "058063731", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN POSTER PRINTING INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.158422 }, "primaryAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } } ] }';
        mock.statusCode = 200;
        Test.setMock(HttpCalloutMock.class, mock);
        Account acc2 = AutoCompleteController.insertDnBAccount(jsonStringDuns);
        Test.stopTest();
        
        
    }
    
    @isTest
    public static void testUpdateDBInfo() {
        Account acc1 = [SELECT id,Name FROM Account LIMIT 1];
        
        Test.startTest();
        WebServiceDUNSMockImpl mock = new WebServiceDUNSMockImpl();
        mock.body = '{ "EmployeeData": [{"EmployeeNumbers": 20,"ReliabilityofEmployeeNumbers": "actual","Numberofemployeesscope": "Individual"}],"CurrencyIsoCode":"US", "Dateestablished":"2020-08-08", "NetIncome":200, "ShareholdersEquity":"20", "RetainedEarnings":500, "LongTermDebt":200, "TypeofPartnership":"Joint", "Website":"www.fakeTest.com", "TotalAssets":2000,"TotalLiabilities" :1000, "TotalRevenue":1000, "SICCode":[{"code":"Test","typCodeDescription":"It is a test SICCode"}], "NetWorth":2340, "NAICCode":[{"code":"Test","typCodeDescription":"It is a test Code"}], "DunsNumber":"DUNS12", "DnBRatingClassification":"TST", "CurrentLiabilities":100, "CurrentAssets":2000,"CompositeCreditAppraisal": "1","matchedCandidates": [ { "displaySequence": 1, "organization": { "duns": "804735132", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Active", "dnbCode": 9074 }, "isMailUndeliverable": false }, "primaryName": "GORMAN MANUFACTURING COMPANY, INC.", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": false, "corporateLinkage": { "familytreeRolesPlayed": [ { "description": "Parent / Headquarters", "dnbCode": 9141 } ] } }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.857166 }, "primaryAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN MANUFACTURING COMPANY, INC.", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 2, "organization": { "duns": "804800217", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN PRINTING CO., INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "4155550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94104", "postalCodeExtension": null, "streetAddress": { "line1": "PO BOX 111", "line2": null } }, "registrationNumbers": [], "mostSeniorPrincipals": [], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 33.594357 }, "primaryAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN PRINTING CO., INC", "streetAddressLine1": "PO BOX 111", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94104", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 3, "organization": { "duns": "059633730", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN CATALOG PRINTING INC", "tradeStyleNames": [], "telephone": [], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.229094 }, "primaryAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN CATALOG PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } }, { "displaySequence": 4, "organization": { "duns": "058063731", "websiteAddress": [], "dunsControlStatus": { "operatingStatus": { "description": "Out of business", "dnbCode": 403 }, "isMailUndeliverable": false }, "primaryName": "GORMAN POSTER PRINTING INC", "tradeStyleNames": [], "telephone": [ { "telephoneNumber": "6505550000", "isUnreachable": false } ], "primaryAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": { "name": "SAN FRANCISCO" }, "addressRegion": { "name": null, "abbreviatedName": "CA" }, "postalCode": "94110", "postalCodeExtension": null, "streetAddress": { "line1": "492 KOLLER ST", "line2": null } }, "mailingAddress": { "addressCountry": { "isoAlpha2Code": "US", "name": "UNITED STATES" }, "addressLocality": {}, "addressRegion": {}, "postalCode": null, "postalCodeExtension": null, "streetAddress": {} }, "registrationNumbers": [], "mostSeniorPrincipals": [ { "fullName": "LESLIE SMITH" } ], "isStandalone": true, "corporateLinkage": {} }, "matchQualityInformation": { "confidenceCode": 4, "matchGrade": "FAAAAZZAFZZ", "matchGradeComponentsCount": 11, "matchGradeComponents": [ { "componentType": "Name", "componentRating": "F" }, { "componentType": "Street Number", "componentRating": "A" }, { "componentType": "Street Name", "componentRating": "A" }, { "componentType": "City", "componentRating": "A" }, { "componentType": "State", "componentRating": "A" }, { "componentType": "PO Box", "componentRating": "Z" }, { "componentType": "Phone", "componentRating": "Z" }, { "componentType": "Postal Code", "componentRating": "A" }, { "componentType": "Density", "componentRating": "F" }, { "componentType": "Uniqueness", "componentRating": "Z" }, { "componentType": "Sic", "componentRating": "Z" } ], "matchDataProfile": "0000000000989800000000989898", "matchDataProfileComponentsCount": 14, "matchDataProfileComponents": [ { "componentType": "Name", "componentValue": "00" }, { "componentType": "Street Number", "componentValue": "00" }, { "componentType": "Street Name", "componentValue": "00" }, { "componentType": "City", "componentValue": "00" }, { "componentType": "State", "componentValue": "00" }, { "componentType": "PO Box", "componentValue": "98" }, { "componentType": "Phone", "componentValue": "98" }, { "componentType": "Postal Code", "componentValue": "00" }, { "componentType": "DUNS", "componentValue": "00" }, { "componentType": "SIC", "componentValue": "00" }, { "componentType": "Density", "componentValue": "00" }, { "componentType": "Uniqueness", "componentValue": "98" }, { "componentType": "National ID", "componentValue": "98" }, { "componentType": "URL", "componentValue": "98" } ], "nameMatchScore": 29.158422 }, "primaryAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": "492 KOLLER ST", "streetAddressLine2": null, "City": "SAN FRANCISCO", "State": "CA", "StateName": null, "postalCode": "94110", "countryISOAlpha2Code": "US", "Country": "UNITED STATES" }, "mailingAddress": { "name": "GORMAN POSTER PRINTING INC", "streetAddressLine1": null, "streetAddressLine2": null, "City": null, "State": null, "StateName": null, "postalCode": null, "countryISOAlpha2Code": "US", "Country": "UNITED STATES" } } ] }';
        mock.statusCode = 200;
        Test.setMock(HttpCalloutMock.class, mock);
        AutoCompleteController.updateDBInfo(acc1.Id);
        Test.stopTest();
        
    }
    
    @isTest
    public static void testUnusedConstructors() {
       AutoCompleteController.RequestData1 reqData = new AutoCompleteController.RequestData1();
       AutoCompleteController.RequestData1 reqData1 = new AutoCompleteController.RequestData1('DUNS98');
       AutoCompleteController.Organization org = new AutoCompleteController.Organization();
       AutoCompleteController.Organization org1 = new AutoCompleteController.Organization('DUNS44','TESTNAME');
       AutoCompleteController.OrganizationWrapper wrap1 = new AutoCompleteController.OrganizationWrapper('DUNS46','PRINAME');
       AutoCompleteController.NAICCode code = new AutoCompleteController.NAICCode('Test','It is a Test');
    }
    
   
}