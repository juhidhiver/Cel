/**
 * @File Name          : RatingResponseTest.cls
 * @Description        : 
 * @Author             : ChangeMeIn@UserSettingsUnder.SFDoc
 * @Group              : 
 * @Last Modified By   : Maeran Shaikh
 * @Last Modified On   : 11-12-2021
 * @Modification Log   : 
 * Ver       Date            Author      		    Modification
 * 1.0    6/4/2020   ChangeMeIn@UserSettingsUnder.SFDoc     Initial Version
**/
@isTest
public class RatingResponseTest {
	@testsetup static void testSetup(){

        TriggerSettings__c setting = TestUtil.initialTriggerSetting();
        setting.BypassOpportunityTrigger__c = true;
        setting.BypassQuoteTrigger__c = true;
        setting.BypassCoverageLineItemTrigger__c = true;
        setting.BypassAccountTrigger__c = true;
        update setting;
        
        Account acc = TestUtil.createBusinessAccount('Business Account Test', 'Business', '123 Main Street', 'Anycity', 'New York', '11354', 'United States');
		insert acc;
        
        Product2 product = TestUtil.createProduct('D&O Standalone');
		insert product; 

        Opportunity opp = TestUtil.createOpportunity('Opp Test',acc.Id, product.Id);
        opp.CloseDate = Date.today();
        opp.StageName = 'Closed Won';
    	opp.Expiration_Date__c = Date.today()+60;
        insert opp;
        
        Quote quote1 = TestUtil.createQuote('New quote 1', opp.Id);
        quote1.Status = 'In Progress';
        quote1.Coverage_Product_Options__c = 'D&O';
     	quote1.Refer_Type__c = 'Underwriting Referral';
    	quote1.Tax = 222000;
        quote1.Azure_ID__c = 'Test Azure ID 1';
        quote1.Effective_Date__c =Date.today() +20;
		quote1.Master_Set_ID__c = 'test'; 
        quote1.MPLQuotePremium__c = 2222; 
        quote1.CyberQuotePremium__c =1111;
        quote1.Commission__c = 222;
        quote1.ExpirationDate = Date.today()+100;
        quote1.Non_Prorated_Quote_Premium__c =22;
        quote1.QuotePremium__c = 11111;
        quote1.Tax = 11111;
        quote1.Surcharges__c = 211112;
        quote1.Accept_Terror_Premium__c =1111;
        quote1.Commission_percentage__c = 0.5;
        quote1.Technical_Premium__c = 11111;
        quote1.Overall_UW_Codes__c = 'Test Quote Desc';
            
        insert quote1;  

		Quote quote2 = Testutil.createQuote('New Quote 2', opp.Id);
        quote2.Status = 'Bound';
        quote2.Coverage_Product_Options__c = 'D&O';
        quote2.Refer_Type__c = 'Underwriting Referral';
    	quote2.Tax = 2122000;
        insert quote2;
        
        Coverage__c cov = TestUtil.createCoverage('Test Coverage 1', 'D&O');
        cov.Rating__c = True;
        insert cov;
        
        Coverage__c cov2 = TestUtil.createCoverage('Test Coverage 2', 'D&O');
        cov2.RecordTypeId = Schema.SObjectType.Coverage__c.getRecordTypeInfosByName().get('Sub Coverage').getRecordTypeId();
        cov2.Coverage_or_Sub__c = cov.Id;
        insert cov2;
        
        Coverage_Limits_Deductibles__c covLd = TestUtil.creatLimitsDeductibles('Test Ld', cov.id);
        insert covLd;
        
        CoveragesLineItem__c covLineItem = TestUtil.createCoverageLineItem(quote1.Id, covLd.id, cov.Id, 'Picklist');
        covLineItem.Sub_Coverage__c = cov2.Id;
		//covLineItem.Rating__c = True;
        insert covLineItem;
        
        Rating_Modifiers__c rateMod = TestUtil.createRatingModifier('Test Rate Modifier 1', 'MPL', opp.Id);
        insert rateMod;
        
        Rating_Modifier_Factor__c rateFactor = new Rating_Modifier_Factor__c();
        rateFactor.Rating_Modifier__c = rateMod.Id;
        rateFactor.Quote__c = quote1.Id;
        rateFactor.Factor_Default_Value__c=82.866;
        rateFactor.Factor_Value__c=76.324;
        rateFactor.Factor_Max__c=3.588;
        rateFactor.Factor_Min__c=43.539;
        insert rateFactor;
        
        Account_Loss_Detail__c accountLoss = new Account_Loss_Detail__c();
        accountLoss.Account__c = acc.Id;
        accountLoss.Product__c = 'Cyber';
        accountLoss.Loss_Amount__c = 123;
        accountLoss.Status__c = 'Open';
        accountLoss.Year__c = '2020';
        accountLoss.Number_of_Losses__c = 23;
        insert accountLoss;
        
        Submission_Loss_Detail__c subLoss = new Submission_Loss_Detail__c();
        subLoss.Submission__c = opp.Id;
    	subLoss.Loss_Amount__c = 22200;
        subLoss.Status__c = 'Open';
        subLoss.Year__c ='2019';
        subLoss.Number_of_Losses__c=2;
        subLoss.Account_Loss_Detail__c = accountLoss.Id;
        insert subLoss;
    }
    @isTest
    static void getFakeResponseTest(){
        Test.startTest();
        Quote q = [Select  Id, Name, Azure_ID__c, QuoteNumber from Quote Limit 1];
        RatingResponse.getFakeResponse(q.Id);
        Test.stopTest();
    }
     @isTest
    static void getRatingModifierFactorsTest(){
        Test.startTest();
        Quote q = [Select  Id, Name, Azure_ID__c, QuoteNumber from Quote Limit 1];
        RatingResponse.isExist('Quote', q.Azure_ID__c);
        Test.stopTest();
    }
         @isTest
    static void generateRatingResponseTest(){
        Test.startTest();
        RatingResponse.generateRatingResponse('{"quote":{"status":"In Progress","quoteType":"Amendment","quoteNumber":"00001610","quoteName":"CELERITY INC MPL Standalone 2","quoteId":"0Q025000000EzvoCAC","quoteExpirationDate":"2021-06-25","quoteEffectiveDate":"2020-07-04","quoteAzureId":null,"products":{"MPL":{"factors":[{"modifier":{"ratingModifierValue":"5+ years","ratingModifierName":"Average years of experience of your staff in this industry","ratingModifierCode":"MPL000004","pageSection":"Industry Class","format":"Radio Button","azureID":"d1fa7ecb-d5af-4626-9212-8e87fcfe3116"},"factorValue":"0.875","factorMin":null,"factorMax":null,"defaultValue":"0.875"},{"modifier":{"ratingModifierValue":"Claim Free","ratingModifierName":"Claim Free Credit","ratingModifierCode":"MPL000005","pageSection":"Industry Class","format":"Radio Button","azureID":"acaf0eea-0eae-4dcd-8747-d8e2e067260a"},"factorValue":"0.875","factorMin":null,"factorMax":null,"defaultValue":"0.875"},{"modifier":{"ratingModifierValue":"Unfavorable","ratingModifierName":"Jurisdiction","ratingModifierCode":"MPL000012","pageSection":"Industry Class","format":"Radio Button","azureID":"8655d9b8-0451-40f0-a6a6-0bf09090ac49"},"factorValue":"1.125","factorMin":null,"factorMax":null,"defaultValue":"1.125"},{"modifier":{"ratingModifierValue":"At least one very restrictive endorsement","ratingModifierName":"Restrictive Endorsement Factor selected","ratingModifierCode":"MPL000020","pageSection":"Industry Class","format":"Radio Button","azureID":"283a772e-a997-4242-8585-57dc793232c3"},"factorValue":"0.650","factorMin":null,"factorMax":null,"defaultValue":"0.650"},{"modifier":{"ratingModifierValue":"At least one very expansive endorsement","ratingModifierName":"Expansive Endorsement Factor selected","ratingModifierCode":"MPL000009","pageSection":"Industry Class","format":"Radio Button","azureID":"7cac8a55-7912-43d3-a929-46edfe92c92b"},"factorValue":"1.900","factorMin":null,"factorMax":null,"defaultValue":"1.900"},{"modifier":{"ratingModifierValue":null,"ratingModifierName":"Merger/Acquisition Activity","ratingModifierCode":"MPL000014","pageSection":"Schedule Debits/Credits","format":"Percentage","azureID":"dc819129-ae03-4808-8b0b-931b7ddbd7d2"},"factorValue":"1.000","factorMin":null,"factorMax":null,"defaultValue":"1.000"},{"modifier":{"ratingModifierValue":null,"ratingModifierName":"Material Changes in Revenues","ratingModifierCode":"MPL000013","pageSection":"Schedule Debits/Credits","format":"Percentage","azureID":"64415926-c7a7-48f8-88c8-11ac54a9e5b1"},"factorValue":"1.000","factorMin":null,"factorMax":null,"defaultValue":"1.000"},{"modifier":{"ratingModifierValue":null,"ratingModifierName":"Risk Management Procedures/Controls","ratingModifierCode":"MPL000021","pageSection":"Schedule Debits/Credits","format":"Percentage","azureID":"b664c467-469c-4d5d-ab2b-88e0f52ef653"},"factorValue":"1.000","factorMin":null,"factorMax":null,"defaultValue":"1.000"},{"modifier":{"ratingModifierValue":null,"ratingModifierName":"Claims/Litigation History","ratingModifierCode":"MPL000006","pageSection":"Schedule Debits/Credits","format":"Percentage","azureID":"bee19f73-42c1-4f5f-b474-8007260cf6fe"},"factorValue":"1.000","factorMin":null,"factorMax":null,"defaultValue":"1.000"},{"modifier":{"ratingModifierValue":"100%","ratingModifierName":"Percentage of Written Contracts Used","ratingModifierCode":"MPL000018","pageSection":"Industry Class","format":"Radio Button","azureID":"943e61a3-da9b-46e6-9a1a-d9538607e05a"},"factorValue":"0.925","factorMin":null,"factorMax":null,"defaultValue":"0.925"},{"modifier":{"ratingModifierValue":null,"ratingModifierName":"Nature of Services","ratingModifierCode":"MPL000015","pageSection":"Schedule Debits/Credits","format":"Percentage","azureID":"58d6efb2-14e7-4030-b8b8-89b120e348c6"},"factorValue":"1.000","factorMin":null,"factorMax":null,"defaultValue":"1.000"},{"modifier":{"ratingModifierValue":"Two Years","ratingModifierName":"Extended Reporting Period Factor (ERPF)","ratingModifierCode":"MPL000011","pageSection":"Industry Class","format":"Picklist","azureID":"d0b97eeb-bfb6-46b6-9393-e8e121e8304d"},"factorValue":"1.500","factorMin":null,"factorMax":null,"defaultValue":"1.500"},{"modifier":{"ratingModifierValue":"089484240","ratingModifierName":"Annual Revenues","ratingModifierCode":"MPL000000","pageSection":"Industry Class","format":"Currency","azureID":"15a43c49-3a50-4c3c-9cdc-ebad57343913"},"factorValue":null,"factorMin":null,"factorMax":null,"defaultValue":null},{"modifier":{"ratingModifierValue":"Hardware: Design","ratingModifierName":"Service Classification","ratingModifierCode":"MPL000002","pageSection":"Industry Class","format":"Text","azureID":"6aea2b45-799a-4a9a-9f9f-a3624cf077f0"},"factorValue":"0.525","factorMin":null,"factorMax":null,"defaultValue":"0.525"},{"modifier":{"ratingModifierValue":"4 Years","ratingModifierName":"Prior acts coverage","ratingModifierCode":"MPL000019","pageSection":"Industry Class","format":"Picklist","azureID":"918a2623-ce40-4141-9090-b21a281a84be"},"factorValue":"0.962","factorMin":null,"factorMax":null,"defaultValue":"0.962"},{"modifier":{"ratingModifierValue":"5+ years","ratingModifierName":"Number of Years in Business","ratingModifierCode":"MPL000016","pageSection":"Industry Class","format":"Radio Button","azureID":"e18abdb5-9b99-4dad-a6e6-50e1564474d4"},"factorValue":"0.900","factorMin":null,"factorMax":null,"defaultValue":"0.900"},{"modifier":{"ratingModifierValue":"25% or Less","ratingModifierName":"Use of Independent Contractors","ratingModifierCode":"MPL000025","pageSection":"Industry Class","format":"Radio Button","azureID":"391acfa6-1b6e-4dbd-a565-901f3cf10019"},"factorValue":"1.050","factorMin":null,"factorMax":null,"defaultValue":"1.050"},{"modifier":{"ratingModifierValue":"Yes","ratingModifierName":"Written Contracts Used","ratingModifierCode":"MPL000027","pageSection":"Industry Class","format":"Radio Button","azureID":"613026e3-6b7b-4111-b7f7-72e4dee5bc36"},"factorValue":"1.000","factorMin":null,"factorMax":null,"defaultValue":"1.000"},{"modifier":{"ratingModifierValue":"Yes","ratingModifierName":"Contracts Reviewed by Counsel","ratingModifierCode":"MPL000008","pageSection":"Industry Class","format":"Radio Button","azureID":"28867a77-91ba-4676-8202-dc1fa73622f7"},"factorValue":"1.000","factorMin":null,"factorMax":null,"defaultValue":"1.000"},{"modifier":{"ratingModifierValue":"Yes","ratingModifierName":"Use of written training and procedural manuals","ratingModifierCode":"MPL000026","pageSection":"Industry Class","format":"Radio Button","azureID":"0e3de3e0-6597-4f4f-ba7a-cbc4897639f5"},"factorValue":"0.950","factorMin":null,"factorMax":null,"defaultValue":"0.950"}],"coverageLineItems":[{"overridePremium":"0","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"0.0","coverageId":"a0425000007aIEzAAM","azureId":"6e616aac-bdae-45b5-8141-4f8238d374c3","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aIEzAAM","azureId":"a0dd3ef2-82e5-4242-a626-ab7be37613ac","optionValueDefault":"No Coverage","optionType":"Picklist","optionList":["No Coverage","100k - 100k","100k - 300k","250k - 250k","250k - 500k","300k - 300k","300k - 500k","500k - 500k","500k - 1m","1m - 1m","1m - 2m","1m - 3m","2m - 2m","2m -5m","3m - 3m","3m - 5m","4m - 4m","5m - 5m","6m - 6m","7m - 7m","8m - 8m","9m - 9m","10m - 10m","11m - 11m","12m - 12m","13m - 13m","14m -14m","15m - 15m"],"minAmt":null,"maxAmt":null,"limitName":"BIPD Endorsement Aggregate Limit","limitCode":"ContigentBIPDSublimit","increment":null}],"deductibles":[],"coverageName":"Contingent BIPD Coverage Endorsement  Sublimit Only","coverageCode":"ContigentBIPDSub"},{"overridePremium":"0","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"0.0","coverageId":"a0425000007aHf4AAE","azureId":"e00b57c4-77ef-44a4-9c9c-a457882261d3","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHf4AAE","azureId":"7ca8a9f1-931e-4cbc-9393-0fd3bdac8bc1","optionValueDefault":"No Coverage","optionType":"Picklist","optionList":["No Coverage","100k - 100k","100k - 300k","250k - 250k","250k - 500k","300k - 300k","300k - 500k","500k - 500k","500k - 1m","1m - 1m","1m - 2m","1m - 3m","2m - 2m","2m -5m","3m - 3m","3m - 5m","4m - 4m","5m - 5m","6m - 6m","7m - 7m","8m - 8m","9m - 9m","10m - 10m","11m - 11m","12m - 12m","13m - 13m","14m -14m","15m - 15m"],"minAmt":null,"maxAmt":null,"limitName":"Contingent BI/PD - Limit","limitCode":"ContigentBIPDLimit","increment":null}],"deductibles":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHf4AAE","azureId":"dbad1ce3-a3a4-41d1-bf7f-8c7db0177e70","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"99999999999","increment":"1","deductibleName":"Contingent BI/PD - Retention","deductibleCode":"ContigentBIPDDed"}],"coverageName":"Contingent BIPD Endorsement","coverageCode":"ContigentBIPD"},{"overridePremium":"0","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"0","coverageId":"a0425000007aHf7AAE","azureId":"8d17edf9-cf31-4eae-8c8c-c44932262948","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHf7AAE","azureId":"c3481406-3e1e-4a9a-bfbf-da57fa4c5bd3","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"5000000","limitName":"Contingent PD only - Limit","limitCode":"ContingentPDLimit","increment":"1"}],"deductibles":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHf7AAE","azureId":"a6d70dd1-e477-4707-ad2d-14c7e9227a4a","optionValueDefault":"0","optionType":"Picklist","optionList":["0"],"minAmt":null,"maxAmt":null,"increment":null,"deductibleName":"Contingent PD only - Retention","deductibleCode":"ContingentPDDed"}],"coverageName":"Contingent PD only","coverageCode":"ContingentPD"},{"overridePremium":"0","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"0.0","coverageId":"a0425000007aHdDAAU","azureId":"352b8414-8fcd-4262-9212-17aff14135b5","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdDAAU","azureId":"77252034-e29c-4212-9a9a-bb753cf44a9e","optionValueDefault":"No Coverage","optionType":"Picklist","optionList":["No Coverage","100k - 100k","100k - 300k","250k - 250k","250k - 500k","300k - 300k","300k - 500k","500k - 500k","500k - 1m","1m - 1m","1m - 2m","1m - 3m","2m - 2m","2m -5m","3m - 3m","3m - 5m","4m - 4m","5m - 5m","6m - 6m","7m - 7m","8m - 8m","9m - 9m","10m - 10m","11m - 11m","12m - 12m","13m - 13m","14m -14m","15m - 15m"],"minAmt":null,"maxAmt":null,"limitName":"Media Liability - Limit","limitCode":"MediaLiabilityLimit","increment":null}],"deductibles":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdDAAU","azureId":"2ce3fa04-f184-4898-bc3c-f9df957aa8ad","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"99999999999","increment":"1","deductibleName":"Media Liability - Retention","deductibleCode":"MediaLiabilityDed"}],"coverageName":"Media Liability Including Advertising","coverageCode":"EndMediaLiability"},{"overridePremium":"991.58","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"991.58","coverageId":"a0425000007aHdEAAU","azureId":"e1e14cdf-3c35-4090-b0b0-f28fec288328","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdEAAU","azureId":"c11d1a96-6d94-4848-9919-8117c830816f","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"5000000","limitName":"Mitigation Limit","limitCode":"MitigaLimit","increment":"1"}],"deductibles":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdEAAU","azureId":"80ab256d-221c-4898-a626-334f89075b0c","optionValueDefault":"0","optionType":"Picklist","optionList":["0"],"minAmt":null,"maxAmt":null,"increment":null,"deductibleName":"Retention","deductibleCode":"MitgaDed"}],"coverageName":"Mitigation Expense Coverage Endorsement","coverageCode":"MitigationExpense"},{"overridePremium":"1983.16","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"1983.16","coverageId":"a0425000007aHdNAAU","azureId":"4f1a1604-2b5b-4c2c-8dcd-f6f27145a79a","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdNAAU","azureId":"f6e4b66d-13a8-47c7-83c3-edf8b504c9e9","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"5000000","limitName":"AntitrustSublimit","limitCode":"AntitrustSublimit","increment":"1"}],"deductibles":[],"coverageName":"Antitrust Claim Defense Sublimit","coverageCode":"EndAntitrustClaim"},{"overridePremium":"0","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"0.0","coverageId":"a0425000007aHdOAAU","azureId":"1d9f893a-a0bc-4161-9cdc-a8fa1a88a204","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdOAAU","azureId":"a2c26bb0-9f25-4a9a-b3f3-79552b849d4e","optionValueDefault":"No Coverage","optionType":"Picklist","optionList":["No Coverage","100k - 100k","100k - 300k","250k - 250k","250k - 500k","300k - 300k","300k - 500k","500k - 500k","500k - 1m","1m - 1m","1m - 2m","1m - 3m","2m - 2m","2m -5m","3m - 3m","3m - 5m","4m - 4m","5m - 5m","6m - 6m","7m - 7m","8m - 8m","9m - 9m","10m - 10m","11m - 11m","12m - 12m","13m - 13m","14m -14m","15m - 15m"],"minAmt":null,"maxAmt":null,"limitName":"Limit","limitCode":"ClaimExpenseLimit","increment":null}],"deductibles":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdOAAU","azureId":"32150b3f-38cf-4292-9c1c-4482ac802c50","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"99999999999","increment":"1","deductibleName":"Retention","deductibleCode":"ClaimExpenseRetention"}],"coverageName":"Claim Expenses Outside the Limit Endorsement","coverageCode":"EndClaimExpense"},{"overridePremium":"2478.9500000000003","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"2478.9500000000003","coverageId":"a0425000007aHdPAAU","azureId":"6c7ca703-00de-4525-b171-4b96a64584f2","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdPAAU","azureId":"9b20c11e-7446-4f3f-bc7c-2bfc47ce6889","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"5000000","limitName":"LawsuitSublimit","limitCode":"LawsuitSublimit","increment":"1"}],"deductibles":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdPAAU","azureId":"19e38e9a-cb91-4333-8f0f-4820eb92393b","optionValueDefault":"0","optionType":"Picklist","optionList":["0"],"minAmt":null,"maxAmt":null,"increment":null,"deductibleName":"LawsuitRetention","deductibleCode":"LawsuitRetention"}],"coverageName":"Class Action SubLimit","coverageCode":"EndClassAction"},{"overridePremium":"111530.4109589041","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"111530.4109589041","coverageId":"a0425000007aHdVAAU","azureId":"6e56b0d5-baef-46b6-b4b4-80a4e2aebab1","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdVAAU","azureId":"69fd80d9-13e2-4454-8fcf-3ac67266d0c2","optionValueDefault":"1m - 1m","optionType":"Picklist","optionList":["100k - 100k","100k - 300k","250k - 250k","250k -500k","300k - 300k","300k - 500k","500k - 500k","500k - 1m","1m - 1m","1m - 2m","1m - 3m","2m - 2m","2m - 5m","3m - 3m","3m - 5m","4m - 4m","5m - 5m","6m - 6m","7m - 7m","8m - 8m","9m - 9m","10m - 10m","11m - 11m","12m - 12m","13m - 13m","14m - 14m","15m - 15m"],"minAmt":null,"maxAmt":null,"limitName":"MPL - Desired Limits","limitCode":"MPLLimit","increment":null}],"deductibles":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdVAAU","azureId":"e39f396f-3936-4464-9a5a-5858f67641e3","optionValueDefault":"5000","optionType":"Picklist","optionList":["0","500","750","1000","1500","2500","5000","7500","10000","15000","25000","50000","75000","100000","150000","175000","200000","250000","300000","500000","750000","1000000"],"minAmt":null,"maxAmt":null,"increment":null,"deductibleName":"MPL - Retention","deductibleCode":"MPLDed"}],"coverageName":"Miscellaneous Professional Liability","coverageCode":"MPL"},{"overridePremium":"0","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"0.0","coverageId":"a0425000007aHdkAAE","azureId":"1bc101d4-3d6e-4767-9898-0c21efcd6a16","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdkAAE","azureId":"e48f4a09-92a7-4141-9696-1973fb6697be","optionValueDefault":"No Coverage","optionType":"Picklist","optionList":["No Coverage","100k - 100k","100k - 300k","250k - 250k","250k - 500k","300k - 300k","300k - 500k","500k - 500k","500k - 1m","1m - 1m","1m - 2m","1m - 3m","2m - 2m","2m -5m","3m - 3m","3m - 5m","4m - 4m","5m - 5m","6m - 6m","7m - 7m","8m - 8m","9m - 9m","10m - 10m","11m - 11m","12m - 12m","13m - 13m","14m -14m","15m - 15m"],"minAmt":null,"maxAmt":null,"limitName":"Limit","limitCode":"TrademarkLimit","increment":null}],"deductibles":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdkAAE","azureId":"8dcd00a3-ca56-4585-ba3a-60a2b87b9d19","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"99999999999","increment":"1","deductibleName":"Retention","deductibleCode":"TrademarkRetention"}],"coverageName":"Infringement of Copyright & Trademark for Media Related Providers","coverageCode":"InfringementOfCopyright"},{"overridePremium":"0","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"0.0","coverageId":"a0425000007aHdlAAE","azureId":"5ea9180a-36dd-4a4a-aeee-c4fcae51dd15","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdlAAE","azureId":"4c545fee-9d9d-4b9b-a2e2-aff09528da40","optionValueDefault":"No Coverage","optionType":"Picklist","optionList":["No Coverage","100k - 100k","100k - 300k","250k - 250k","250k - 500k","300k - 300k","300k - 500k","500k - 500k","500k - 1m","1m - 1m","1m - 2m","1m - 3m","2m - 2m","2m -5m","3m - 3m","3m - 5m","4m - 4m","5m - 5m","6m - 6m","7m - 7m","8m - 8m","9m - 9m","10m - 10m","11m - 11m","12m - 12m","13m - 13m","14m -14m","15m - 15m"],"minAmt":null,"maxAmt":null,"limitName":"Lock Box Limit","limitCode":"LockBoxBIPDLimit","increment":null}],"deductibles":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdlAAE","azureId":"64629894-26f9-4d8d-9717-7fc9ead5cb98","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"99999999999","increment":"1","deductibleName":"Retention","deductibleCode":"LockBoxRetention"}],"coverageName":"Lock Box BI PD Carve Back","coverageCode":"LockBoxBIPD"},{"overridePremium":"991.58","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"991.58","coverageId":"a0425000007aHdqAAE","azureId":"9b5f67bb-1f90-4ded-8808-0c72df57588a","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdqAAE","azureId":"939c73c7-2fd7-4101-befe-1222c0dc0620","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"5000000","limitName":"NegFailPreventDishonestConductSublimit","limitCode":"NegFailPreventDishonestConductSublimit","increment":"1"}],"deductibles":[],"coverageName":"Negligent Failure to Prevent Dishonest Conduct","coverageCode":"DishonestConduct"},{"overridePremium":"991.58","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"991.58","coverageId":"a0425000007aHdrAAE","azureId":"ee8e4b85-e4ac-4bfb-adad-0260d4b49e48","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdrAAE","azureId":"5146e496-6a1a-4353-8e0e-9c39ab4acaf4","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"5000000","limitName":"CFPBClaimSublimit","limitCode":"CFPBClaimSublimit","increment":"1"}],"deductibles":[],"coverageName":"CFPB Claim Expenses","coverageCode":"ClaimExpenses"},{"overridePremium":"991.58","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"991.58","coverageId":"a0425000007aHdsAAE","azureId":"b76e9559-7bb1-4aba-9a1a-418e3ba67a55","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdsAAE","azureId":"c041ce1c-92d3-4888-89c9-549cd2628e3a","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"5000000","limitName":"SubpoenaComplianceAmount","limitCode":"SubpoenaComplianceAmount","increment":"1"}],"deductibles":[],"coverageName":"Subpoena Compliance Sublimit","coverageCode":"SubpoenaSublimit"},{"overridePremium":"1487.37","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"1487.37","coverageId":"a0425000007aHduAAE","azureId":"13bc5caa-4306-4545-b6f6-cc0e966eca6d","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHduAAE","azureId":"9ea4e556-b590-46e6-84c4-3c40ca256159","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"5000000","limitName":"Theft Of Fund Sublimit","limitCode":"TheftOfFundSublimit","increment":"1"}],"deductibles":[],"coverageName":"Theft of Funds","coverageCode":"TheftOfFund"},{"overridePremium":"0","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"0.0","coverageId":"a0425000007aHdvAAE","azureId":"674c9d40-208b-48d8-b9b9-2a4c4d217482","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdvAAE","azureId":"c5b7315d-8867-4646-a969-b342cc4c3787","optionValueDefault":"No Coverage","optionType":"Picklist","optionList":["No Coverage","100k - 100k","100k - 300k","250k - 250k","250k - 500k","300k - 300k","300k - 500k","500k - 500k","500k - 1m","1m - 1m","1m - 2m","1m - 3m","2m - 2m","2m -5m","3m - 3m","3m - 5m","4m - 4m","5m - 5m","6m - 6m","7m - 7m","8m - 8m","9m - 9m","10m - 10m","11m - 11m","12m - 12m","13m - 13m","14m -14m","15m - 15m"],"minAmt":null,"maxAmt":null,"limitName":"Limit","limitCode":"IndependentLimit","increment":null}],"deductibles":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHdvAAE","azureId":"1cb7c2e3-1221-4bcb-a5e5-20ad03e126d2","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"99999999999","increment":"1","deductibleName":"Retention","deductibleCode":"IndependentContractorRetention"}],"coverageName":"Independent Contractor Extension Endorsement","coverageCode":"IndependentContractorExtension"},{"overridePremium":"0","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"0.0","coverageId":"a0425000007aHehAAE","azureId":"d27daf7e-cf80-4797-8383-5ad1ef0114e0","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHehAAE","azureId":"bf42feb5-b203-4888-91d1-29ddf6add22c","optionValueDefault":"No Coverage","optionType":"Picklist","optionList":["No Coverage","100k - 100k","100k - 300k","250k - 250k","250k - 500k","300k - 300k","300k - 500k","500k - 500k","500k - 1m","1m - 1m","1m - 2m","1m - 3m","2m - 2m","2m -5m","3m - 3m","3m - 5m","4m - 4m","5m - 5m","6m - 6m","7m - 7m","8m - 8m","9m - 9m","10m - 10m","11m - 11m","12m - 12m","13m - 13m","14m -14m","15m - 15m"],"minAmt":null,"maxAmt":null,"limitName":"Limit","limitCode":"CopyrightLimit","increment":null}],"deductibles":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHehAAE","azureId":"050ce918-27b9-4d6d-9999-e023e4971cf1","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"99999999999","increment":"1","deductibleName":"Retention","deductibleCode":"InfringementRetention"}],"coverageName":"Infringement of Copyright","coverageCode":"InfringementOfCopyright2"},{"overridePremium":"2478.9500000000003","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"2478.9500000000003","coverageId":"a0425000007aHeuAAE","azureId":"7bef1178-9517-4a1a-a161-9428b09466bf","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHeuAAE","azureId":"03a952ca-95ca-4919-8f8f-43fb0bfe4fe0","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"5000000","limitName":"Sublimit","limitCode":"FailurtoDiscloseSublimit","increment":"1"}],"deductibles":[],"coverageName":"Failure to Disclose Pollutants Sublimit","coverageCode":"FailurtoDisclose"},{"overridePremium":"991.58","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"991.58","coverageId":"a0425000007aHevAAE","azureId":"fd45136c-7400-4000-82c2-2bf86303aa78","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aHevAAE","azureId":"4bb7d52f-d09e-4afa-a020-6be8f1f642aa","optionValueDefault":"0","optionType":"Range","optionList":[],"minAmt":"0","maxAmt":"5000000","limitName":"OpenHouseSublimit","limitCode":"OpenHouseSublimit","increment":"1"}],"deductibles":[],"coverageName":"Open House Sublimit Endorsement","coverageCode":"OpenHouse"},{"overridePremium":"0","factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":"0.0","coverageId":"a0425000007aIF4AAM","azureId":"fe13cc7c-8110-48a8-bb7b-11a3a4be1ac7","subCoverages":[],"limits":[{"overridePremium":null,"factorValue":null,"factorMin":null,"factorMax":null,"factorDefaultValue":null,"coveragePremium":null,"coverageId":"a0425000007aIF4AAM","azureId":"213bca98-a663-4fff-aded-6aaa83f93db6","optionValueDefault":null,"optionType":"Picklist","optionList":["No Coverage","100k - 100k","100k - 300k","250k - 250k","250k - 500k","300k - 300k","300k - 500k","500k - 500k","500k - 1m","1m - 1m","1m - 2m","1m - 3m","2m - 2m","2m -5m","3m - 3m","3m - 5m","4m - 4m","5m - 5m","6m - 6m","7m - 7m","8m - 8m","9m - 9m","10m - 10m","11m - 11m","12m - 12m","13m - 13m","14m -14m","15m - 15m"],"minAmt":null,"maxAmt":null,"limitName":"BIPD Aggregate Limit w/o Amendment","limitCode":"BIPDWithoutInsuranceAmendment","increment":null}],"deductibles":[],"coverageName":"Contingent BIPD Coverage (Without Other Insurance Amendment)EndorsementSublimit","coverageCode":"ContigentBIPDWithoutAmend"}]}},"productClassCd":null,"overridePremiumPercent":"0.00","overridePremium":null,"masterSetId":null,"commissionPercentage":""},"productConfigAttributes":{"writingCompany":"0012500001E5djsAAB","umr":null,"stockKeepingUnit":null,"quantityUnitOfMeasure":null,"productImageURL":null,"productFeatures":null,"productCode":null,"payPlan":["By Check","Credit Card","ACH"],"packageIndicator":"false","offer":null,"name":"MPL Standalone","modelID":"Celerity_MPL","marketingMinimumPremium":null,"isActive":"true","innoviskEntityID":"Celerity","family":"None","externalId":null,"expirationDate":"2036-08-01","effectiveDate":"2019-08-01","displayUrl":null,"description":null,"carrierCommission":null,"Azure_ID":"c502328a-df80-44d4-ae6e-df4fa44630ea"},"opportunity":{"totalRevenues":null,"totalLiabilities":null,"totalAssets":null,"submissionLossDetail":[],"shareHoldersEquity":null,"retainedErning":null,"products":{"MPL":[{"ratingModifierValue":"5+ years","ratingModifierName":"Average years of experience of your staff in this industry","ratingModifierCode":"MPL000004","pageSection":"Industry Class","format":"Radio Button","azureID":"d1fa7ecb-d5af-4626-9212-8e87fcfe3116"},{"ratingModifierValue":"Claim Free","ratingModifierName":"Claim Free Credit","ratingModifierCode":"MPL000005","pageSection":"Industry Class","format":"Radio Button","azureID":"acaf0eea-0eae-4dcd-8747-d8e2e067260a"},{"ratingModifierValue":"Unfavorable","ratingModifierName":"Jurisdiction","ratingModifierCode":"MPL000012","pageSection":"Industry Class","format":"Radio Button","azureID":"8655d9b8-0451-40f0-a6a6-0bf09090ac49"},{"ratingModifierValue":"At least one very restrictive endorsement","ratingModifierName":"Restrictive Endorsement Factor selected","ratingModifierCode":"MPL000020","pageSection":"Industry Class","format":"Radio Button","azureID":"283a772e-a997-4242-8585-57dc793232c3"},{"ratingModifierValue":"At least one very expansive endorsement","ratingModifierName":"Expansive Endorsement Factor selected","ratingModifierCode":"MPL000009","pageSection":"Industry Class","format":"Radio Button","azureID":"7cac8a55-7912-43d3-a929-46edfe92c92b"},{"ratingModifierValue":null,"ratingModifierName":"Merger/Acquisition Activity","ratingModifierCode":"MPL000014","pageSection":"Schedule Debits/Credits","format":"Percentage","azureID":"dc819129-ae03-4808-8b0b-931b7ddbd7d2"},{"ratingModifierValue":null,"ratingModifierName":"Material Changes in Revenues","ratingModifierCode":"MPL000013","pageSection":"Schedule Debits/Credits","format":"Percentage","azureID":"64415926-c7a7-48f8-88c8-11ac54a9e5b1"},{"ratingModifierValue":null,"ratingModifierName":"Risk Management Procedures/Controls","ratingModifierCode":"MPL000021","pageSection":"Schedule Debits/Credits","format":"Percentage","azureID":"b664c467-469c-4d5d-ab2b-88e0f52ef653"},{"ratingModifierValue":null,"ratingModifierName":"Claims/Litigation History","ratingModifierCode":"MPL000006","pageSection":"Schedule Debits/Credits","format":"Percentage","azureID":"bee19f73-42c1-4f5f-b474-8007260cf6fe"},{"ratingModifierValue":"100%","ratingModifierName":"Percentage of Written Contracts Used","ratingModifierCode":"MPL000018","pageSection":"Industry Class","format":"Radio Button","azureID":"943e61a3-da9b-46e6-9a1a-d9538607e05a"},{"ratingModifierValue":null,"ratingModifierName":"Nature of Services","ratingModifierCode":"MPL000015","pageSection":"Schedule Debits/Credits","format":"Percentage","azureID":"58d6efb2-14e7-4030-b8b8-89b120e348c6"},{"ratingModifierValue":"Two Years","ratingModifierName":"Extended Reporting Period Factor (ERPF)","ratingModifierCode":"MPL000011","pageSection":"Industry Class","format":"Picklist","azureID":"d0b97eeb-bfb6-46b6-9393-e8e121e8304d"},{"ratingModifierValue":"089484240","ratingModifierName":"Annual Revenues","ratingModifierCode":"MPL000000","pageSection":"Industry Class","format":"Currency","azureID":"15a43c49-3a50-4c3c-9cdc-ebad57343913"},{"ratingModifierValue":"Hardware: Design","ratingModifierName":"Service Classification","ratingModifierCode":"MPL000002","pageSection":"Industry Class","format":"Text","azureID":"6aea2b45-799a-4a9a-9f9f-a3624cf077f0"},{"ratingModifierValue":"4 Years","ratingModifierName":"Prior acts coverage","ratingModifierCode":"MPL000019","pageSection":"Industry Class","format":"Picklist","azureID":"918a2623-ce40-4141-9090-b21a281a84be"},{"ratingModifierValue":"5+ years","ratingModifierName":"Number of Years in Business","ratingModifierCode":"MPL000016","pageSection":"Industry Class","format":"Radio Button","azureID":"e18abdb5-9b99-4dad-a6e6-50e1564474d4"},{"ratingModifierValue":"25% or Less","ratingModifierName":"Use of Independent Contractors","ratingModifierCode":"MPL000025","pageSection":"Industry Class","format":"Radio Button","azureID":"391acfa6-1b6e-4dbd-a565-901f3cf10019"},{"ratingModifierValue":"Yes","ratingModifierName":"Written Contracts Used","ratingModifierCode":"MPL000027","pageSection":"Industry Class","format":"Radio Button","azureID":"613026e3-6b7b-4111-b7f7-72e4dee5bc36"},{"ratingModifierValue":"Yes","ratingModifierName":"Contracts Reviewed by Counsel","ratingModifierCode":"MPL000008","pageSection":"Industry Class","format":"Radio Button","azureID":"28867a77-91ba-4676-8202-dc1fa73622f7"},{"ratingModifierValue":"Yes","ratingModifierName":"Use of written training and procedural manuals","ratingModifierCode":"MPL000026","pageSection":"Industry Class","format":"Radio Button","azureID":"0e3de3e0-6597-4f4f-ba7a-cbc4897639f5"}]},"opportunityName":"CELERITY INC MPL Standalone","opportunityAzureId":"fddc8ad2-6e87-44d4-93d3-627cf86ac458","netIncome":null,"longTermDebt":null,"Industry":"Technology","currentLiabilities":null,"currentAssets":null,"cashFlow":null,"attachmentPoint":null,"annualRevenue":"89484240","account":{"name":"CELERITY INC","dunsNumber":"089484240","dBRatingClassification":"--","compositCredit":"2","billingAddress":{"city":"Coffeyville","country":"United States","countryCode":"US","geocodeAccuracy":null,"latitude":null,"longitude":null,"postalCode":"67337","state":"Kansas","stateCode":"KS","street":"456 8000 Road"},"azureID":"e707d051-d0b4-4f3f-a6a6-05b2192d2ec1"}}}');
        Test.stopTest();
    }    
	@isTest
    static void generateRatingResponseTest2(){
        Test.startTest();
        Quote q = [Select  Id, Name, Azure_ID__c, QuoteNumber from Quote Limit 1];
        RatingResponse.generateRatingResponse('{ "quote": { "status": "In Progress", "quoteType": "Amendment", "quoteNumber": "00001610", "quoteName": "CELERITY INC MPL Standalone 2", "quoteId": "0Q025000000EzvoCAC", "quoteExpirationDate": "2021-06-25", "quoteEffectiveDate": "2020-07-04", "quoteAzureId": null, "products": { "MPL": { "factors": [{ "modifier": { "ratingModifierValue": "5+ years", "ratingModifierName": "Average years of experience of your staff in this industry", "ratingModifierCode": "MPL000004", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "d1fa7ecb-d5af-4626-9212-8e87fcfe3116" }, "factorValue": "0.875", "factorMin": null, "factorMax": null, "defaultValue": "0.875" }, { "modifier": { "ratingModifierValue": "Claim Free", "ratingModifierName": "Claim Free Credit", "ratingModifierCode": "MPL000005", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "acaf0eea-0eae-4dcd-8747-d8e2e067260a" }, "factorValue": "0.875", "factorMin": null, "factorMax": null, "defaultValue": "0.875" }, { "modifier": { "ratingModifierValue": "Unfavorable", "ratingModifierName": "Jurisdiction", "ratingModifierCode": "MPL000012", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "8655d9b8-0451-40f0-a6a6-0bf09090ac49" }, "factorValue": "1.125", "factorMin": null, "factorMax": null, "defaultValue": "1.125" }, { "modifier": { "ratingModifierValue": "At least one very restrictive endorsement", "ratingModifierName": "Restrictive Endorsement Factor selected", "ratingModifierCode": "MPL000020", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "283a772e-a997-4242-8585-57dc793232c3" }, "factorValue": "0.650", "factorMin": null, "factorMax": null, "defaultValue": "0.650" }, { "modifier": { "ratingModifierValue": "At least one very expansive endorsement", "ratingModifierName": "Expansive Endorsement Factor selected", "ratingModifierCode": "MPL000009", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "7cac8a55-7912-43d3-a929-46edfe92c92b" }, "factorValue": "1.900", "factorMin": null, "factorMax": null, "defaultValue": "1.900" }, { "modifier": { "ratingModifierValue": null, "ratingModifierName": "Merger/Acquisition Activity", "ratingModifierCode": "MPL000014", "pageSection": "Schedule Debits/Credits", "format": "Percentage", "azureID": "dc819129-ae03-4808-8b0b-931b7ddbd7d2" }, "factorValue": "1.000", "factorMin": null, "factorMax": null, "defaultValue": "1.000" }, { "modifier": { "ratingModifierValue": null, "ratingModifierName": "Material Changes in Revenues", "ratingModifierCode": "MPL000013", "pageSection": "Schedule Debits/Credits", "format": "Percentage", "azureID": "64415926-c7a7-48f8-88c8-11ac54a9e5b1" }, "factorValue": "1.000", "factorMin": null, "factorMax": null, "defaultValue": "1.000" }, { "modifier": { "ratingModifierValue": null, "ratingModifierName": "Risk Management Procedures/Controls", "ratingModifierCode": "MPL000021", "pageSection": "Schedule Debits/Credits", "format": "Percentage", "azureID": "b664c467-469c-4d5d-ab2b-88e0f52ef653" }, "factorValue": "1.000", "factorMin": null, "factorMax": null, "defaultValue": "1.000" }, { "modifier": { "ratingModifierValue": null, "ratingModifierName": "Claims/Litigation History", "ratingModifierCode": "MPL000006", "pageSection": "Schedule Debits/Credits", "format": "Percentage", "azureID": "bee19f73-42c1-4f5f-b474-8007260cf6fe" }, "factorValue": "1.000", "factorMin": null, "factorMax": null, "defaultValue": "1.000" }, { "modifier": { "ratingModifierValue": "100%", "ratingModifierName": "Percentage of Written Contracts Used", "ratingModifierCode": "MPL000018", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "943e61a3-da9b-46e6-9a1a-d9538607e05a" }, "factorValue": "0.925", "factorMin": null, "factorMax": null, "defaultValue": "0.925" }, { "modifier": { "ratingModifierValue": null, "ratingModifierName": "Nature of Services", "ratingModifierCode": "MPL000015", "pageSection": "Schedule Debits/Credits", "format": "Percentage", "azureID": "58d6efb2-14e7-4030-b8b8-89b120e348c6" }, "factorValue": "1.000", "factorMin": null, "factorMax": null, "defaultValue": "1.000" }, { "modifier": { "ratingModifierValue": "Two Years", "ratingModifierName": "Extended Reporting Period Factor (ERPF)", "ratingModifierCode": "MPL000011", "pageSection": "Industry Class", "format": "Picklist", "azureID": "d0b97eeb-bfb6-46b6-9393-e8e121e8304d" }, "factorValue": "1.500", "factorMin": null, "factorMax": null, "defaultValue": "1.500" }, { "modifier": { "ratingModifierValue": "089484240", "ratingModifierName": "Annual Revenues", "ratingModifierCode": "MPL000000", "pageSection": "Industry Class", "format": "Currency", "azureID": "15a43c49-3a50-4c3c-9cdc-ebad57343913" }, "factorValue": null, "factorMin": null, "factorMax": null, "defaultValue": null }, { "modifier": { "ratingModifierValue": "Hardware: Design", "ratingModifierName": "Service Classification", "ratingModifierCode": "MPL000002", "pageSection": "Industry Class", "format": "Text", "azureID": "6aea2b45-799a-4a9a-9f9f-a3624cf077f0" }, "factorValue": "0.525", "factorMin": null, "factorMax": null, "defaultValue": "0.525" }, { "modifier": { "ratingModifierValue": "4 Years", "ratingModifierName": "Prior acts coverage", "ratingModifierCode": "MPL000019", "pageSection": "Industry Class", "format": "Picklist", "azureID": "918a2623-ce40-4141-9090-b21a281a84be" }, "factorValue": "0.962", "factorMin": null, "factorMax": null, "defaultValue": "0.962" }, { "modifier": { "ratingModifierValue": "5+ years", "ratingModifierName": "Number of Years in Business", "ratingModifierCode": "MPL000016", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "e18abdb5-9b99-4dad-a6e6-50e1564474d4" }, "factorValue": "0.900", "factorMin": null, "factorMax": null, "defaultValue": "0.900" }, { "modifier": { "ratingModifierValue": "25% or Less", "ratingModifierName": "Use of Independent Contractors", "ratingModifierCode": "MPL000025", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "391acfa6-1b6e-4dbd-a565-901f3cf10019" }, "factorValue": "1.050", "factorMin": null, "factorMax": null, "defaultValue": "1.050" }, { "modifier": { "ratingModifierValue": "Yes", "ratingModifierName": "Written Contracts Used", "ratingModifierCode": "MPL000027", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "613026e3-6b7b-4111-b7f7-72e4dee5bc36" }, "factorValue": "1.000", "factorMin": null, "factorMax": null, "defaultValue": "1.000" }, { "modifier": { "ratingModifierValue": "Yes", "ratingModifierName": "Contracts Reviewed by Counsel", "ratingModifierCode": "MPL000008", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "28867a77-91ba-4676-8202-dc1fa73622f7" }, "factorValue": "1.000", "factorMin": null, "factorMax": null, "defaultValue": "1.000" }, { "modifier": { "ratingModifierValue": "Yes", "ratingModifierName": "Use of written training and procedural manuals", "ratingModifierCode": "MPL000026", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "0e3de3e0-6597-4f4f-ba7a-cbc4897639f5" }, "factorValue": "0.950", "factorMin": null, "factorMax": null, "defaultValue": "0.950" } ], "coverageLineItems": [{ "overridePremium": "0", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "0.0", "coverageId": "a0425000007aIEzAAM", "azureId": "6e616aac-bdae-45b5-8141-4f8238d374c3", "subCoverages": [{ "subCoverageCode": "22", "azureId": "22", "coveragePremium": "22", "factorDefaultValue": "22", "factorMax": "22", "factorMin": "22", "factorValue": "a0425000007aIEzAAM", "overridePremium": "a0dd3ef2-82e5-4242-a626-ab7be37613ac", "included": "No Coverage", "limits": [{ "overridePremium": "22", "factorValue": "22", "factorMin": "22", "factorMax": "22", "factorDefaultValue": "22", "coveragePremium": "22", "coverageId": "a0425000007aHf4AAE", "azureId": "7ca8a9f1-931e-4cbc-9393-0fd3bdac8bc1", "optionValueDefault": "No Coverage", "optionType": "Picklist", "optionList": [  ], "minAmt": "22", "maxAmt": "22", "limitName": "Contingent BI/PD - Limit", "limitCode": "ContigentBIPDLimit", "increment": "22" }], "deductibles": [{ "overridePremium": "22", "factorValue": "22", "factorMin": "22", "factorMax": "22", "factorDefaultValue": "22", "coveragePremium": "22", "coverageId": "a0425000007aHf4AAE", "azureId": "dbad1ce3-a3a4-41d1-bf7f-8c7db0177e70", "optionValueDefault": "0", "optionType": "Range", "optionList": [ "No Coverage", "100k - 100k", "100k - 300k", "250k - 250k", "250k - 500k", "300k - 300k", "300k - 500k", "500k - 500k", "500k - 1m", "1m - 1m", "1m - 2m", "1m - 3m", "2m - 2m", "2m -5m", "3m - 3m", "3m - 5m", "4m - 4m", "5m - 5m", "6m - 6m", "7m - 7m", "8m - 8m", "9m - 9m", "10m - 10m", "11m - 11m", "12m - 12m", "13m - 13m", "14m -14m", "15m - 15m" ], "minAmt": "0", "maxAmt": "99999999999", "increment": "1", "deductibleName": "Contingent BI/PD - Retention", "deductibleCode": "ContigentBIPDDed" }] }], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aIEzAAM", "azureId": "a0dd3ef2-82e5-4242-a626-ab7be37613ac", "optionValueDefault": "No Coverage", "optionType": "Picklist", "optionList": [ "No Coverage", "100k - 100k", "100k - 300k", "250k - 250k", "250k - 500k", "300k - 300k", "300k - 500k", "500k - 500k", "500k - 1m", "1m - 1m", "1m - 2m", "1m - 3m", "2m - 2m", "2m -5m", "3m - 3m", "3m - 5m", "4m - 4m", "5m - 5m", "6m - 6m", "7m - 7m", "8m - 8m", "9m - 9m", "10m - 10m", "11m - 11m", "12m - 12m", "13m - 13m", "14m -14m", "15m - 15m" ], "minAmt": null, "maxAmt": null, "limitName": "BIPD Endorsement Aggregate Limit", "limitCode": "ContigentBIPDSublimit", "increment": null }], "deductibles": [  ], "coverageName": "Contingent BIPD Coverage Endorsement  Sublimit Only", "coverageCode": "ContigentBIPDSub" }, { "overridePremium": "0", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "0.0", "coverageId": "a0425000007aHf4AAE", "azureId": "e00b57c4-77ef-44a4-9c9c-a457882261d3", "subCoverages": [{ "subCoverageCode": "22", "azureId": "22", "coveragePremium": "22", "factorDefaultValue": "22", "factorMax": "22", "factorMin": "22", "factorValue": "a0425000007aIEzAAM", "overridePremium": "a0dd3ef2-82e5-4242-a626-ab7be37613ac", "included": "No Coverage", "limits": [{ "overridePremium": "22", "factorValue": "22", "factorMin": "22", "factorMax": "22", "factorDefaultValue": "22", "coveragePremium": "22", "coverageId": "a0425000007aHf4AAE", "azureId": "7ca8a9f1-931e-4cbc-9393-0fd3bdac8bc1", "optionValueDefault": "No Coverage", "optionType": "Picklist", "optionList": [  ], "minAmt": "22", "maxAmt": "22", "limitName": "Contingent BI/PD - Limit", "limitCode": "ContigentBIPDLimit", "increment": "22" }], "deductibles": [{ "overridePremium": "22", "factorValue": "22", "factorMin": "22", "factorMax": "22", "factorDefaultValue": "22", "coveragePremium": "22", "coverageId": "a0425000007aHf4AAE", "azureId": "dbad1ce3-a3a4-41d1-bf7f-8c7db0177e70", "optionValueDefault": "0", "optionType": "Range", "optionList": [ "No Coverage", "100k - 100k", "100k - 300k", "250k - 250k", "250k - 500k", "300k - 300k", "300k - 500k", "500k - 500k", "500k - 1m", "1m - 1m", "1m - 2m", "1m - 3m", "2m - 2m", "2m -5m", "3m - 3m", "3m - 5m", "4m - 4m", "5m - 5m", "6m - 6m", "7m - 7m", "8m - 8m", "9m - 9m", "10m - 10m", "11m - 11m", "12m - 12m", "13m - 13m", "14m -14m", "15m - 15m" ], "minAmt": "0", "maxAmt": "99999999999", "increment": "1", "deductibleName": "Contingent BI/PD - Retention", "deductibleCode": "ContigentBIPDDed" }] }], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHf4AAE", "azureId": "7ca8a9f1-931e-4cbc-9393-0fd3bdac8bc1", "optionValueDefault": "No Coverage", "optionType": "Picklist", "optionList": [ "No Coverage", "100k - 100k", "100k - 300k", "250k - 250k", "250k - 500k", "300k - 300k", "300k - 500k", "500k - 500k", "500k - 1m", "1m - 1m", "1m - 2m", "1m - 3m", "2m - 2m", "2m -5m", "3m - 3m", "3m - 5m", "4m - 4m", "5m - 5m", "6m - 6m", "7m - 7m", "8m - 8m", "9m - 9m", "10m - 10m", "11m - 11m", "12m - 12m", "13m - 13m", "14m -14m", "15m - 15m" ], "minAmt": null, "maxAmt": null, "limitName": "Contingent BI/PD - Limit", "limitCode": "ContigentBIPDLimit", "increment": null }], "deductibles": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHf4AAE", "azureId": "dbad1ce3-a3a4-41d1-bf7f-8c7db0177e70", "optionValueDefault": "0", "optionType": "Range", "optionList": [ "No Coverage", "100k - 100k", "100k - 300k", "250k - 250k", "250k - 500k", "300k - 300k", "300k - 500k", "500k - 500k", "500k - 1m", "1m - 1m", "1m - 2m", "1m - 3m", "2m - 2m", "2m -5m", "3m - 3m", "3m - 5m", "4m - 4m", "5m - 5m", "6m - 6m", "7m - 7m", "8m - 8m", "9m - 9m", "10m - 10m", "11m - 11m", "12m - 12m", "13m - 13m", "14m -14m", "15m - 15m" ], "minAmt": "0", "maxAmt": "99999999999", "increment": "1", "deductibleName": "Contingent BI/PD - Retention", "deductibleCode": "ContigentBIPDDed" }], "coverageName": "Contingent BIPD Endorsement", "coverageCode": "ContigentBIPD" }, { "overridePremium": "0", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "0", "coverageId": "a0425000007aHf7AAE", "azureId": "8d17edf9-cf31-4eae-8c8c-c44932262948", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHf7AAE", "azureId": "c3481406-3e1e-4a9a-bfbf-da57fa4c5bd3", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "5000000", "limitName": "Contingent PD only - Limit", "limitCode": "ContingentPDLimit", "increment": "1" }], "deductibles": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHf7AAE", "azureId": "a6d70dd1-e477-4707-ad2d-14c7e9227a4a", "optionValueDefault": "0", "optionType": "Picklist", "optionList": [ "0" ], "minAmt": null, "maxAmt": null, "increment": null, "deductibleName": "Contingent PD only - Retention", "deductibleCode": "ContingentPDDed" }], "coverageName": "Contingent PD only", "coverageCode": "ContingentPD" }, { "overridePremium": "0", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "0.0", "coverageId": "a0425000007aHdDAAU", "azureId": "352b8414-8fcd-4262-9212-17aff14135b5", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdDAAU", "azureId": "77252034-e29c-4212-9a9a-bb753cf44a9e", "optionValueDefault": "No Coverage", "optionType": "Picklist", "optionList": [ "No Coverage", "100k - 100k", "100k - 300k", "250k - 250k", "250k - 500k", "300k - 300k", "300k - 500k", "500k - 500k", "500k - 1m", "1m - 1m", "1m - 2m", "1m - 3m", "2m - 2m", "2m -5m", "3m - 3m", "3m - 5m", "4m - 4m", "5m - 5m", "6m - 6m", "7m - 7m", "8m - 8m", "9m - 9m", "10m - 10m", "11m - 11m", "12m - 12m", "13m - 13m", "14m -14m", "15m - 15m" ], "minAmt": null, "maxAmt": null, "limitName": "Media Liability - Limit", "limitCode": "MediaLiabilityLimit", "increment": null }], "deductibles": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdDAAU", "azureId": "2ce3fa04-f184-4898-bc3c-f9df957aa8ad", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "99999999999", "increment": "1", "deductibleName": "Media Liability - Retention", "deductibleCode": "MediaLiabilityDed" }], "coverageName": "Media Liability Including Advertising", "coverageCode": "EndMediaLiability" }, { "overridePremium": "991.58", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "991.58", "coverageId": "a0425000007aHdEAAU", "azureId": "e1e14cdf-3c35-4090-b0b0-f28fec288328", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdEAAU", "azureId": "c11d1a96-6d94-4848-9919-8117c830816f", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "5000000", "limitName": "Mitigation Limit", "limitCode": "MitigaLimit", "increment": "1" }], "deductibles": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdEAAU", "azureId": "80ab256d-221c-4898-a626-334f89075b0c", "optionValueDefault": "0", "optionType": "Picklist", "optionList": [ "0" ], "minAmt": null, "maxAmt": null, "increment": null, "deductibleName": "Retention", "deductibleCode": "MitgaDed" }], "coverageName": "Mitigation Expense Coverage Endorsement", "coverageCode": "MitigationExpense" }, { "overridePremium": "1983.16", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "1983.16", "coverageId": "a0425000007aHdNAAU", "azureId": "4f1a1604-2b5b-4c2c-8dcd-f6f27145a79a", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdNAAU", "azureId": "f6e4b66d-13a8-47c7-83c3-edf8b504c9e9", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "5000000", "limitName": "AntitrustSublimit", "limitCode": "AntitrustSublimit", "increment": "1" }], "deductibles": [  ], "coverageName": "Antitrust Claim Defense Sublimit", "coverageCode": "EndAntitrustClaim" }, { "overridePremium": "0", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "0.0", "coverageId": "a0425000007aHdOAAU", "azureId": "1d9f893a-a0bc-4161-9cdc-a8fa1a88a204", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdOAAU", "azureId": "a2c26bb0-9f25-4a9a-b3f3-79552b849d4e", "optionValueDefault": "No Coverage", "optionType": "Picklist", "optionList": [ "No Coverage", "100k - 100k", "100k - 300k", "250k - 250k", "250k - 500k", "300k - 300k", "300k - 500k", "500k - 500k", "500k - 1m", "1m - 1m", "1m - 2m", "1m - 3m", "2m - 2m", "2m -5m", "3m - 3m", "3m - 5m", "4m - 4m", "5m - 5m", "6m - 6m", "7m - 7m", "8m - 8m", "9m - 9m", "10m - 10m", "11m - 11m", "12m - 12m", "13m - 13m", "14m -14m", "15m - 15m" ], "minAmt": null, "maxAmt": null, "limitName": "Limit", "limitCode": "ClaimExpenseLimit", "increment": null }], "deductibles": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdOAAU", "azureId": "32150b3f-38cf-4292-9c1c-4482ac802c50", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "99999999999", "increment": "1", "deductibleName": "Retention", "deductibleCode": "ClaimExpenseRetention" }], "coverageName": "Claim Expenses Outside the Limit Endorsement", "coverageCode": "EndClaimExpense" }, { "overridePremium": "2478.9500000000003", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "2478.9500000000003", "coverageId": "a0425000007aHdPAAU", "azureId": "6c7ca703-00de-4525-b171-4b96a64584f2", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdPAAU", "azureId": "9b20c11e-7446-4f3f-bc7c-2bfc47ce6889", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "5000000", "limitName": "LawsuitSublimit", "limitCode": "LawsuitSublimit", "increment": "1" }], "deductibles": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdPAAU", "azureId": "19e38e9a-cb91-4333-8f0f-4820eb92393b", "optionValueDefault": "0", "optionType": "Picklist", "optionList": [ "0" ], "minAmt": null, "maxAmt": null, "increment": null, "deductibleName": "LawsuitRetention", "deductibleCode": "LawsuitRetention" }], "coverageName": "Class Action SubLimit", "coverageCode": "EndClassAction" }, { "overridePremium": "111530.4109589041", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "111530.4109589041", "coverageId": "a0425000007aHdVAAU", "azureId": "6e56b0d5-baef-46b6-b4b4-80a4e2aebab1", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdVAAU", "azureId": "69fd80d9-13e2-4454-8fcf-3ac67266d0c2", "optionValueDefault": "1m - 1m", "optionType": "Picklist", "optionList": [ "100k - 100k", "100k - 300k", "250k - 250k", "250k -500k", "300k - 300k", "300k - 500k", "500k - 500k", "500k - 1m", "1m - 1m", "1m - 2m", "1m - 3m", "2m - 2m", "2m - 5m", "3m - 3m", "3m - 5m", "4m - 4m", "5m - 5m", "6m - 6m", "7m - 7m", "8m - 8m", "9m - 9m", "10m - 10m", "11m - 11m", "12m - 12m", "13m - 13m", "14m - 14m", "15m - 15m" ], "minAmt": null, "maxAmt": null, "limitName": "MPL - Desired Limits", "limitCode": "MPLLimit", "increment": null }], "deductibles": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdVAAU", "azureId": "e39f396f-3936-4464-9a5a-5858f67641e3", "optionValueDefault": "5000", "optionType": "Picklist", "optionList": [ "0", "500", "750", "1000", "1500", "2500", "5000", "7500", "10000", "15000", "25000", "50000", "75000", "100000", "150000", "175000", "200000", "250000", "300000", "500000", "750000", "1000000" ], "minAmt": null, "maxAmt": null, "increment": null, "deductibleName": "MPL - Retention", "deductibleCode": "MPLDed" }], "coverageName": "Miscellaneous Professional Liability", "coverageCode": "MPL" }, { "overridePremium": "0", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "0.0", "coverageId": "a0425000007aHdkAAE", "azureId": "1bc101d4-3d6e-4767-9898-0c21efcd6a16", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdkAAE", "azureId": "e48f4a09-92a7-4141-9696-1973fb6697be", "optionValueDefault": "No Coverage", "optionType": "Picklist", "optionList": [ "No Coverage", "100k - 100k", "100k - 300k", "250k - 250k", "250k - 500k", "300k - 300k", "300k - 500k", "500k - 500k", "500k - 1m", "1m - 1m", "1m - 2m", "1m - 3m", "2m - 2m", "2m -5m", "3m - 3m", "3m - 5m", "4m - 4m", "5m - 5m", "6m - 6m", "7m - 7m", "8m - 8m", "9m - 9m", "10m - 10m", "11m - 11m", "12m - 12m", "13m - 13m", "14m -14m", "15m - 15m" ], "minAmt": null, "maxAmt": null, "limitName": "Limit", "limitCode": "TrademarkLimit", "increment": null }], "deductibles": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdkAAE", "azureId": "8dcd00a3-ca56-4585-ba3a-60a2b87b9d19", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "99999999999", "increment": "1", "deductibleName": "Retention", "deductibleCode": "TrademarkRetention" }], "coverageName": "Infringement of Copyright & Trademark for Media Related Providers", "coverageCode": "InfringementOfCopyright" }, { "overridePremium": "0", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "0.0", "coverageId": "a0425000007aHdlAAE", "azureId": "5ea9180a-36dd-4a4a-aeee-c4fcae51dd15", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdlAAE", "azureId": "4c545fee-9d9d-4b9b-a2e2-aff09528da40", "optionValueDefault": "No Coverage", "optionType": "Picklist", "optionList": [ "No Coverage", "100k - 100k", "100k - 300k", "250k - 250k", "250k - 500k", "300k - 300k", "300k - 500k", "500k - 500k", "500k - 1m", "1m - 1m", "1m - 2m", "1m - 3m", "2m - 2m", "2m -5m", "3m - 3m", "3m - 5m", "4m - 4m", "5m - 5m", "6m - 6m", "7m - 7m", "8m - 8m", "9m - 9m", "10m - 10m", "11m - 11m", "12m - 12m", "13m - 13m", "14m -14m", "15m - 15m" ], "minAmt": null, "maxAmt": null, "limitName": "Lock Box Limit", "limitCode": "LockBoxBIPDLimit", "increment": null }], "deductibles": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdlAAE", "azureId": "64629894-26f9-4d8d-9717-7fc9ead5cb98", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "99999999999", "increment": "1", "deductibleName": "Retention", "deductibleCode": "LockBoxRetention" }], "coverageName": "Lock Box BI PD Carve Back", "coverageCode": "LockBoxBIPD" }, { "overridePremium": "991.58", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "991.58", "coverageId": "a0425000007aHdqAAE", "azureId": "9b5f67bb-1f90-4ded-8808-0c72df57588a", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdqAAE", "azureId": "939c73c7-2fd7-4101-befe-1222c0dc0620", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "5000000", "limitName": "NegFailPreventDishonestConductSublimit", "limitCode": "NegFailPreventDishonestConductSublimit", "increment": "1" }], "deductibles": [  ], "coverageName": "Negligent Failure to Prevent Dishonest Conduct", "coverageCode": "DishonestConduct" }, { "overridePremium": "991.58", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "991.58", "coverageId": "a0425000007aHdrAAE", "azureId": "ee8e4b85-e4ac-4bfb-adad-0260d4b49e48", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdrAAE", "azureId": "5146e496-6a1a-4353-8e0e-9c39ab4acaf4", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "5000000", "limitName": "CFPBClaimSublimit", "limitCode": "CFPBClaimSublimit", "increment": "1" }], "deductibles": [  ], "coverageName": "CFPB Claim Expenses", "coverageCode": "ClaimExpenses" }, { "overridePremium": "991.58", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "991.58", "coverageId": "a0425000007aHdsAAE", "azureId": "b76e9559-7bb1-4aba-9a1a-418e3ba67a55", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdsAAE", "azureId": "c041ce1c-92d3-4888-89c9-549cd2628e3a", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "5000000", "limitName": "SubpoenaComplianceAmount", "limitCode": "SubpoenaComplianceAmount", "increment": "1" }], "deductibles": [  ], "coverageName": "Subpoena Compliance Sublimit", "coverageCode": "SubpoenaSublimit" }, { "overridePremium": "1487.37", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "1487.37", "coverageId": "a0425000007aHduAAE", "azureId": "13bc5caa-4306-4545-b6f6-cc0e966eca6d", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHduAAE", "azureId": "9ea4e556-b590-46e6-84c4-3c40ca256159", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "5000000", "limitName": "Theft Of Fund Sublimit", "limitCode": "TheftOfFundSublimit", "increment": "1" }], "deductibles": [  ], "coverageName": "Theft of Funds", "coverageCode": "TheftOfFund" }, { "overridePremium": "0", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "0.0", "coverageId": "a0425000007aHdvAAE", "azureId": "674c9d40-208b-48d8-b9b9-2a4c4d217482", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdvAAE", "azureId": "c5b7315d-8867-4646-a969-b342cc4c3787", "optionValueDefault": "No Coverage", "optionType": "Picklist", "optionList": [ "No Coverage", "100k - 100k", "100k - 300k", "250k - 250k", "250k - 500k", "300k - 300k", "300k - 500k", "500k - 500k", "500k - 1m", "1m - 1m", "1m - 2m", "1m - 3m", "2m - 2m", "2m -5m", "3m - 3m", "3m - 5m", "4m - 4m", "5m - 5m", "6m - 6m", "7m - 7m", "8m - 8m", "9m - 9m", "10m - 10m", "11m - 11m", "12m - 12m", "13m - 13m", "14m -14m", "15m - 15m" ], "minAmt": null, "maxAmt": null, "limitName": "Limit", "limitCode": "IndependentLimit", "increment": null }], "deductibles": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHdvAAE", "azureId": "1cb7c2e3-1221-4bcb-a5e5-20ad03e126d2", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "99999999999", "increment": "1", "deductibleName": "Retention", "deductibleCode": "IndependentContractorRetention" }], "coverageName": "Independent Contractor Extension Endorsement", "coverageCode": "IndependentContractorExtension" }, { "overridePremium": "0", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "0.0", "coverageId": "a0425000007aHehAAE", "azureId": "d27daf7e-cf80-4797-8383-5ad1ef0114e0", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHehAAE", "azureId": "bf42feb5-b203-4888-91d1-29ddf6add22c", "optionValueDefault": "No Coverage", "optionType": "Picklist", "optionList": [ "No Coverage", "100k - 100k", "100k - 300k", "250k - 250k", "250k - 500k", "300k - 300k", "300k - 500k", "500k - 500k", "500k - 1m", "1m - 1m", "1m - 2m", "1m - 3m", "2m - 2m", "2m -5m", "3m - 3m", "3m - 5m", "4m - 4m", "5m - 5m", "6m - 6m", "7m - 7m", "8m - 8m", "9m - 9m", "10m - 10m", "11m - 11m", "12m - 12m", "13m - 13m", "14m -14m", "15m - 15m" ], "minAmt": null, "maxAmt": null, "limitName": "Limit", "limitCode": "CopyrightLimit", "increment": null }], "deductibles": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHehAAE", "azureId": "050ce918-27b9-4d6d-9999-e023e4971cf1", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "99999999999", "increment": "1", "deductibleName": "Retention", "deductibleCode": "InfringementRetention" }], "coverageName": "Infringement of Copyright", "coverageCode": "InfringementOfCopyright2" }, { "overridePremium": "2478.9500000000003", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "2478.9500000000003", "coverageId": "a0425000007aHeuAAE", "azureId": "7bef1178-9517-4a1a-a161-9428b09466bf", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHeuAAE", "azureId": "03a952ca-95ca-4919-8f8f-43fb0bfe4fe0", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "5000000", "limitName": "Sublimit", "limitCode": "FailurtoDiscloseSublimit", "increment": "1" }], "deductibles": [  ], "coverageName": "Failure to Disclose Pollutants Sublimit", "coverageCode": "FailurtoDisclose" }, { "overridePremium": "991.58", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "991.58", "coverageId": "a0425000007aHevAAE", "azureId": "fd45136c-7400-4000-82c2-2bf86303aa78", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aHevAAE", "azureId": "4bb7d52f-d09e-4afa-a020-6be8f1f642aa", "optionValueDefault": "0", "optionType": "Range", "optionList": [  ], "minAmt": "0", "maxAmt": "5000000", "limitName": "OpenHouseSublimit", "limitCode": "OpenHouseSublimit", "increment": "1" }], "deductibles": [  ], "coverageName": "Open House Sublimit Endorsement", "coverageCode": "OpenHouse" }, { "overridePremium": "0", "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": "0.0", "coverageId": "a0425000007aIF4AAM", "azureId": "fe13cc7c-8110-48a8-bb7b-11a3a4be1ac7", "subCoverages": [  ], "limits": [{ "overridePremium": null, "factorValue": null, "factorMin": null, "factorMax": null, "factorDefaultValue": null, "coveragePremium": null, "coverageId": "a0425000007aIF4AAM", "azureId": "213bca98-a663-4fff-aded-6aaa83f93db6", "optionValueDefault": null, "optionType": "Picklist", "optionList": [ "No Coverage", "100k - 100k", "100k - 300k", "250k - 250k", "250k - 500k", "300k - 300k", "300k - 500k", "500k - 500k", "500k - 1m", "1m - 1m", "1m - 2m", "1m - 3m", "2m - 2m", "2m -5m", "3m - 3m", "3m - 5m", "4m - 4m", "5m - 5m", "6m - 6m", "7m - 7m", "8m - 8m", "9m - 9m", "10m - 10m", "11m - 11m", "12m - 12m", "13m - 13m", "14m -14m", "15m - 15m" ], "minAmt": null, "maxAmt": null, "limitName": "BIPD Aggregate Limit w/o Amendment", "limitCode": "BIPDWithoutInsuranceAmendment", "increment": null }], "deductibles": [  ], "coverageName": "Contingent BIPD Coverage (Without Other Insurance Amendment)EndorsementSublimit", "coverageCode": "ContigentBIPDWithoutAmend" } ] } }, "productClassCd": null, "overridePremiumPercent": "0.00", "overridePremium": null, "masterSetId": null, "commissionPercentage": "" }, "productConfigAttributes": { "writingCompany": "0012500001E5djsAAB", "umr": null, "stockKeepingUnit": null, "quantityUnitOfMeasure": null, "productImageURL": null, "productFeatures": null, "productCode": null, "payPlan": [ "By Check", "Credit Card", "ACH" ], "packageIndicator": "false", "offer": null, "name": "MPL Standalone", "modelID": "Celerity_MPL", "marketingMinimumPremium": null, "isActive": "true", "innoviskEntityID": "Celerity", "family": "None", "externalId": null, "expirationDate": "2036-08-01", "effectiveDate": "2019-08-01", "displayUrl": null, "description": null, "carrierCommission": null, "Azure_ID": "c502328a-df80-44d4-ae6e-df4fa44630ea" }, "opportunity": { "totalRevenues": null, "totalLiabilities": null, "totalAssets": null, "submissionLossDetail": [  ], "shareHoldersEquity": null, "retainedErning": null, "products": { "MPL": [{ "ratingModifierValue": "5+ years", "ratingModifierName": "Average years of experience of your staff in this industry", "ratingModifierCode": "MPL000004", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "d1fa7ecb-d5af-4626-9212-8e87fcfe3116" }, { "ratingModifierValue": "Claim Free", "ratingModifierName": "Claim Free Credit", "ratingModifierCode": "MPL000005", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "acaf0eea-0eae-4dcd-8747-d8e2e067260a" }, { "ratingModifierValue": "Unfavorable", "ratingModifierName": "Jurisdiction", "ratingModifierCode": "MPL000012", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "8655d9b8-0451-40f0-a6a6-0bf09090ac49" }, { "ratingModifierValue": "At least one very restrictive endorsement", "ratingModifierName": "Restrictive Endorsement Factor selected", "ratingModifierCode": "MPL000020", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "283a772e-a997-4242-8585-57dc793232c3" }, { "ratingModifierValue": "At least one very expansive endorsement", "ratingModifierName": "Expansive Endorsement Factor selected", "ratingModifierCode": "MPL000009", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "7cac8a55-7912-43d3-a929-46edfe92c92b" }, { "ratingModifierValue": null, "ratingModifierName": "Merger/Acquisition Activity", "ratingModifierCode": "MPL000014", "pageSection": "Schedule Debits/Credits", "format": "Percentage", "azureID": "dc819129-ae03-4808-8b0b-931b7ddbd7d2" }, { "ratingModifierValue": null, "ratingModifierName": "Material Changes in Revenues", "ratingModifierCode": "MPL000013", "pageSection": "Schedule Debits/Credits", "format": "Percentage", "azureID": "64415926-c7a7-48f8-88c8-11ac54a9e5b1" }, { "ratingModifierValue": null, "ratingModifierName": "Risk Management Procedures/Controls", "ratingModifierCode": "MPL000021", "pageSection": "Schedule Debits/Credits", "format": "Percentage", "azureID": "b664c467-469c-4d5d-ab2b-88e0f52ef653" }, { "ratingModifierValue": null, "ratingModifierName": "Claims/Litigation History", "ratingModifierCode": "MPL000006", "pageSection": "Schedule Debits/Credits", "format": "Percentage", "azureID": "bee19f73-42c1-4f5f-b474-8007260cf6fe" }, { "ratingModifierValue": "100%", "ratingModifierName": "Percentage of Written Contracts Used", "ratingModifierCode": "MPL000018", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "943e61a3-da9b-46e6-9a1a-d9538607e05a" }, { "ratingModifierValue": null, "ratingModifierName": "Nature of Services", "ratingModifierCode": "MPL000015", "pageSection": "Schedule Debits/Credits", "format": "Percentage", "azureID": "58d6efb2-14e7-4030-b8b8-89b120e348c6" }, { "ratingModifierValue": "Two Years", "ratingModifierName": "Extended Reporting Period Factor (ERPF)", "ratingModifierCode": "MPL000011", "pageSection": "Industry Class", "format": "Picklist", "azureID": "d0b97eeb-bfb6-46b6-9393-e8e121e8304d" }, { "ratingModifierValue": "089484240", "ratingModifierName": "Annual Revenues", "ratingModifierCode": "MPL000000", "pageSection": "Industry Class", "format": "Currency", "azureID": "15a43c49-3a50-4c3c-9cdc-ebad57343913" }, { "ratingModifierValue": "Hardware: Design", "ratingModifierName": "Service Classification", "ratingModifierCode": "MPL000002", "pageSection": "Industry Class", "format": "Text", "azureID": "6aea2b45-799a-4a9a-9f9f-a3624cf077f0" }, { "ratingModifierValue": "4 Years", "ratingModifierName": "Prior acts coverage", "ratingModifierCode": "MPL000019", "pageSection": "Industry Class", "format": "Picklist", "azureID": "918a2623-ce40-4141-9090-b21a281a84be" }, { "ratingModifierValue": "5+ years", "ratingModifierName": "Number of Years in Business", "ratingModifierCode": "MPL000016", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "e18abdb5-9b99-4dad-a6e6-50e1564474d4" }, { "ratingModifierValue": "25% or Less", "ratingModifierName": "Use of Independent Contractors", "ratingModifierCode": "MPL000025", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "391acfa6-1b6e-4dbd-a565-901f3cf10019" }, { "ratingModifierValue": "Yes", "ratingModifierName": "Written Contracts Used", "ratingModifierCode": "MPL000027", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "613026e3-6b7b-4111-b7f7-72e4dee5bc36" }, { "ratingModifierValue": "Yes", "ratingModifierName": "Contracts Reviewed by Counsel", "ratingModifierCode": "MPL000008", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "28867a77-91ba-4676-8202-dc1fa73622f7" }, { "ratingModifierValue": "Yes", "ratingModifierName": "Use of written training and procedural manuals", "ratingModifierCode": "MPL000026", "pageSection": "Industry Class", "format": "Radio Button", "azureID": "0e3de3e0-6597-4f4f-ba7a-cbc4897639f5" } ] }, "opportunityName": "CELERITY INC MPL Standalone", "opportunityAzureId": "fddc8ad2-6e87-44d4-93d3-627cf86ac458", "netIncome": null, "longTermDebt": null, "Industry": "Technology", "currentLiabilities": null, "currentAssets": null, "cashFlow": null, "attachmentPoint": null, "annualRevenue": "89484240", "account": { "name": "CELERITY INC", "dunsNumber": "089484240", "dBRatingClassification": "--", "compositCredit": "2", "billingAddress": { "city": "Coffeyville", "country": "United States", "countryCode": "US", "geocodeAccuracy": null, "latitude": null, "longitude": null, "postalCode": "67337", "state": "Kansas", "stateCode": "KS", "street": "456 8000 Road" }, "azureID": "e707d051-d0b4-4f3f-a6a6-05b2192d2ec1" } } }');
        RatingResponse obj = new RatingResponse();
		Test.stopTest();
  }
	@isTest
	 static void quoteWrapperTest(){
        Test.startTest();
         Quote q = [Select  Id, Name, OpportunityId, Azure_ID__c,Effective_Date__c,QuoteNumber,ExpirationDate ,Master_Set_ID__c
                    ,MPLQuotePremium__c,CyberQuotePremium__c, Commission__c ,
                    Non_Prorated_Quote_Premium__c , QuotePremium__c , Tax , Surcharges__c , 
                    Accept_Terror_Premium__c , Commission_percentage__c , Technical_Premium__c , 
                    Overall_UW_Codes__c from Quote Limit 1];
          Account acc = [Select Id, billingAddress from Account Limit 1];
                  
        RatingResponse.PrimaryAddress prAddr = new RatingResponse.PrimaryAddress();
        prAddr.latitude = '20';
        prAddr.longitude = '22';
        prAddr.address1 = 'Test Address 1';
        prAddr.address2 = 'Test Address 2';
        prAddr.city = 'Los Angeles';
        prAddr.county = 'Los Angeles';
        prAddr.stateProvCd = 'LA';
        prAddr.countryCd = 'USA';
        prAddr.postalZipCd = '3467';
        prAddr.locLatitude = '44';
        prAddr.locLongitude = '52';
        prAddr.locCountry = 'USA';
        prAddr.locLevel1 = 'test1';
        prAddr.locLevel2 = 'test2';
        prAddr.locLevel3 = 'test3';
        prAddr.locLevel4 = 'test4';
        prAddr.locLevel5 = 'test5';
        prAddr.locType = 'testLoc';
         
         
        RatingResponse.AccountWrapper accObj = new RatingResponse.AccountWrapper();
        accObj.azureID = 'Test Azure';
            accObj.name ='Account 1';
            accObj.billingAddress =acc.BillingAddress;
            accObj.dunsNumber = '12212';
            accObj.compositCredit = '1111';
            accObj.dBRatingClassification = 'Test Classify';
            accObj.id ='Test Id';
            accObj.azure_ID = 'Test Az Id';
            accObj.primaryAddress = prAddr;
         List<RatingResponse.AccountWrapper> accObjList = new List<RatingResponse.AccountWrapper>{accObj};
        CoveragesLineItem__c covLineItem = [SELECT id FROM CoveragesLineItem__c LIMIT 1];
                         
         //LimitItem
         RatingResponse.LimitItem limitObj = new  RatingResponse.LimitItem();
         limitObj.limitName = 'Test limit';
         limitObj.increment = '222';
         limitObj.maxAmt= '222';
         limitObj.minAmt= '222';
         limitObj.optionType= '222';
         limitObj.optionValueDefault= '222';
         limitObj.optionList = new List<String>{'test1','test2'};
         
         //DeductibleItem    
         RatingResponse.DeductibleItem deductObj = new  RatingResponse.DeductibleItem();
		deductObj.deductibleName = 'Test deduct';
         deductObj.increment = '222';
         deductObj.maxAmt= '222';
         deductObj.minAmt= '222';
         deductObj.optionType= '222';
         deductObj.optionValueDefault= '222';
         deductObj.optionList = new List<String>{'test1','test2'};
         
          //SubCoverageItem
         RatingResponse.SubCoverageItem subCovItemObj = new RatingResponse.SubCoverageItem();
         Coverage__c subCov = [Select id, Coverage_Code__c, Name from Coverage__c where Name = 'Test Coverage 2'];
         subCovItemObj.subCoverageCode = subCov.Coverage_Code__c;	
         subCovItemObj.subCoverageName = subCov.Name;
         subCovItemObj.limits = new List<RatingResponse.LimitItem>{limitObj};
         subCovItemObj.deductibles = new List<RatingResponse.DeductibleItem>{deductObj};
         
             
         //CoverageItem
         RatingResponse.CoverageItem covItemObj = new RatingResponse.CoverageItem();
         Coverage__c mainCov = [Select id, Coverage_Code__c, Name from Coverage__c  where Name = 'Test Coverage 1'];                 
         covItemObj.coverageCode = mainCov.Coverage_Code__c;
         covItemObj.coverageName = mainCov.Name;
         covItemObj.subCoverages = new List<RatingResponse.SubCoverageItem>{subCovItemObj};
         covItemObj.limits =new List<RatingResponse.LimitItem>{limitObj};
         covItemObj.deductibles = new List<RatingResponse.DeductibleItem>{deductObj};  
         
        RatingResponse.CoverageLineItemWrapper ratingWrp = new RatingResponse.CoverageLineItemWrapper();
        ratingWrp.id = covLineItem.Id;
        ratingWrp.coverage = mainCov.Id;
        ratingWrp.coverage_Code = 'test Code';
        ratingWrp.coverage_Premium = '2000';
        ratingWrp.increment_Step = '1';
        ratingWrp.is_Included = 'Yes';
        ratingWrp.min_Amt = '200';
        ratingWrp.max_Amt = '500';
        ratingWrp.name = 'testCov';
       // ratingWrp.nonProratedCoveragePremium = '1500';
        ratingWrp.option_Type = 'Open';
        ratingWrp.option_Value_Default = 'Default Val';
        ratingWrp.override_Premium = '100';
        ratingWrp.override_Premium_Percent = '1';
        ratingWrp.non_Prorated_Coverage_Premium = '112';
        ratingWrp.code = '1222';
       	ratingWrp.option_Picklist = new List<String>{'Test','Test 2'};
        ratingWrp.CoverageLineItems = new List<RatingResponse.CoverageItem>{covItemObj};   
        List<RatingResponse.CoverageLineItemWrapper> listratingWrp = new List<RatingResponse.CoverageLineItemWrapper>{ratingWrp};
        
         
        Rating_Modifiers__c rateMod = [SELECT id,Azure_ID__c,Name,Format__c,Rating_Modifier_Code__c,Rating_Modifier_Value__c FROM Rating_Modifiers__c LIMIT 1];
        RatingResponse.RatingModifier ratingModifier = new RatingResponse.RatingModifier(rateMod);
        //ratingModifier.increment = 'yes';
        //ratingModifier.factor = 'testing';
        ratingModifier.factorMax = '200';
        ratingModifier.factorMin = '100';
        ratingModifier.FactorValue = '90';
        ratingModifier.ratingModifierCode = '2111';
        ratingModifier.factordefaultValue = '1111';
        ratingModifier.defaultValue = '123';    
        
         List<RatingResponse.RatingModifier> ratingModifierList = new List<RatingResponse.RatingModifier>{ratingModifier}; 
         
         RatingResponse.QuoteWrapper obj = new RatingResponse.QuoteWrapper(q);
         obj.coveragePremium = 'Test Cov Prem';
         obj.rejectedTerrorism_Premium = 'Test Terrorism Prem';
         obj.selectedTerrorism_Premium = 'Test Selected Terrorism Premium';
         obj.productName = 'Test Prod';
         obj.writingCompany = 'test writing comp';
         obj.productClassCd = '112';
         obj.quoteNumber = '112';
         obj.accounts = accObjList;
         obj.coverageLineItems = listratingWrp;
         obj.commissionAmount = '12333';
             obj.nonProratedQuotePremium = '1111';
             obj.taxes = '1111';
             obj.surcharge = '1111';
             obj.acceptedTerrorism_Premium = '1111';
             obj.commission_Percentage = '1111';
             obj.technicalPremium = '1111';
         obj.quotePremium = '12345';
         obj.ratingModifiers = ratingModifierList;
         List<String> newDescp = new List<String>{'Test1', 'Test2'};
         
         RatingResponse.OverallUWDescriptions odObj = new RatingResponse.OverallUWDescriptions();
         odObj.message_text = 'test';
         odObj.uwcode = '1234';
        
         obj.overallUWDescriptions = new List<RatingResponse.OverallUWDescriptions>{odObj};
         
 		//OpportunityWrapper
 		RatingResponse.OpportunityWrapper oppObj = new RatingResponse.OpportunityWrapper();
        oppObj.annualRevenue = '111';
       	oppObj.attachmentPoint = '1234';
        oppObj.cashFlow = '111';    
        oppObj.currentAssets = '11111';     
        oppObj.currentLiabilities = '1111';
        oppObj.longTermDebt = '1234';
        oppObj.netIncome ='1234';  
        oppObj.opportunityAzureId ='1234';   
        oppObj.opportunityName  ='1234';  
        oppObj.retainedErning='1234';
        oppObj.shareHoldersEquity='1234';
        oppObj.totalAssets='1234';
        oppObj.totalLiabilities='1234';
        oppObj.totalRevenues ='1234';  
            
       Map<String, RatingResponse.CoverageLineItemWrapper> covLineItemMap = new Map<String, RatingResponse.CoverageLineItemWrapper>();
       covLineItemMap.put('1',ratingWrp);
       Map<String, List<RatingResponse.RatingModifier>> rateModMap = new Map<String, List<RatingResponse.RatingModifier>>();
        rateModMap.put('1',ratingModifierList);
        
         
         obj.generateQuote();
         obj.isExist();
        RatingResponse mainObj = new RatingResponse();
        mainObj.quote = obj;
        mainObj.opportunity = oppObj;
         mainObj.products = covLineItemMap;
        mainObj.ratingModifiers = rateModMap;
            
            
        mainObj.getCoverageLineItems();
        mainObj.getRatingModifiers();
        mainObj.getCoverageLineItemsNew(q);
         mainObj.getRatingModifiersNew(q);
         mainObj.getRatingModifierFactors(q);
         RatingResponse.getCoverageLineItems(ratingWrp);
        Test.stopTest(); 
	}   
     @isTest
	 static void WrapperTest2(){
        Test.startTest();
         Quote q = new Quote();
         RatingResponse.QuoteWrapper obj = new RatingResponse.QuoteWrapper(); 
         obj.generateQuote();         
         obj.isExist();
         
         RatingResponse.OpportunityWrapper oppObj = new RatingResponse.OpportunityWrapper();
         oppObj.annualRevenue = '111';      
         oppObj.attachmentPoint  = '111';        
    	 oppObj.cashFlow = '111';  
         oppObj.currentAssets  = '111';  
         oppObj.currentLiabilities = '111';  
		 oppObj.longTermDebt = '111';  
		 oppObj.netIncome = '111';  
        oppObj.opportunityAzureId = '111';  
        oppObj.opportunityName = '111';  
        oppObj.retainedErning = '111';  
        oppObj.shareHoldersEquity = '111';  
        oppObj.totalAssets = '111';  
        oppObj.totalLiabilities = '111';  
        oppObj.totalRevenues = '111';  
                
         oppObj.generateOpportunity();
         oppObj.isExist();
         
        

		RatingResponse.PrimaryAddress prAddr = new RatingResponse.PrimaryAddress();
        prAddr.latitude = '20';
        prAddr.longitude = '22';
        prAddr.address1 = 'Test Address 1';
        prAddr.address2 = 'Test Address 2';
        prAddr.city = 'Los Angeles';
        prAddr.county = 'Los Angeles';
        prAddr.stateProvCd = 'LA';
        prAddr.countryCd = 'USA';
        prAddr.postalZipCd = '3467';
        prAddr.locLatitude = '44';
        prAddr.locLongitude = '52';
        prAddr.locCountry = 'USA';
        prAddr.locLevel1 = 'test1';
        prAddr.locLevel2 = 'test2';
        prAddr.locLevel3 = 'test3';
        prAddr.locLevel4 = 'test4';
        prAddr.locLevel5 = 'test5';
        prAddr.locType = 'testLoc';
        Account acc = [Select Id, billingAddress from Account Limit 1];
        RatingResponse.AccountWrapper accObj = new RatingResponse.AccountWrapper();
        accObj.azureID = 'Test Azure';
            accObj.name ='Account 1';
            accObj.billingAddress =acc.BillingAddress;
            accObj.dunsNumber = '12212';
            accObj.compositCredit = '1111';
            accObj.dBRatingClassification = 'Test Classify';
            accObj.id ='Test Id';
            accObj.azure_ID = 'Test Az Id';
            accObj.primaryAddress = prAddr;
        accObj.generateAccount();
                 
        Test.stopTest();
	}
    @isTest
    public static void testGetCoverageLineItems() {
        CoveragesLineItem__c covLineItem = [SELECT id FROM CoveragesLineItem__c LIMIT 1];
        
        RatingResponse.CoverageLineItemWrapper ratingWrp = new RatingResponse.CoverageLineItemWrapper();
        ratingWrp.id = covLineItem.Id;
        ratingWrp.coverage = 'test Coverage';
        ratingWrp.coverage_Code = 'test Code';
        ratingWrp.coverage_Premium = '2000';
        ratingWrp.increment_Step = '1';
        ratingWrp.is_Included = 'Yes';
        ratingWrp.min_Amt = '200';
        ratingWrp.max_Amt = '500';
        ratingWrp.name = 'testCov';
       // ratingWrp.nonProratedCoveragePremium = '1500';
        ratingWrp.option_Type = 'Open';
        ratingWrp.option_Value_Default = 'Default Val';
        ratingWrp.override_Premium = '100';
        ratingWrp.override_Premium_Percent = '1';
        ratingWrp.non_Prorated_Coverage_Premium = '112';
        ratingWrp.code = '1222';
        //ratingWrp.option_Picklist = '{"Test","Test 2"}';
        
        RatingResponse rstingRes = new RatingResponse();
        rstingRes.getCoverageLineItems();
       // rstingRes.coverageLineItems = new List<RatingResponse.CoverageLineItemWrapper>{ratingWrp};
     
    }
    @isTest
    public static void testGetRatingModifierFactors() {
        Rating_Modifiers__c rateMod = [SELECT id,Azure_ID__c,Name,Format__c,Rating_Modifier_Code__c,Rating_Modifier_Value__c FROM Rating_Modifiers__c LIMIT 1];
        RatingResponse.RatingModifier ratingModifier = new RatingResponse.RatingModifier(rateMod);
        //ratingModifier.increment = 'yes';
        //ratingModifier.factor = 'testing';
        ratingModifier.factorMax = '200';
        ratingModifier.factorMin = '100';
        ratingModifier.FactorValue = '90';
        ratingModifier.ratingModifierCode = '2111';
        ratingModifier.factordefaultValue = '1111';
        ratingModifier.defaultValue = '123';
        //ratingModifier.options = new List<String>{'Option1','Option2'};
        ratingModifier.generateRatingModifier();
        RatingResponse rstingRes = new RatingResponse();
        //rstingRes.ratingModifiers = new List<RatingResponse.RatingModifier>{ratingModifier};
            
        //Map<String, Rating_Modifier_Factor__c> rsMap = rstingRes.getRatingModifierFactors();    
            
    }
}